<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="manimTutorial, cai">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>manimTutorial | cai</title>
    <link rel="icon" type="image/x-icon, image/vnd.microsoft.icon" href="/medias/favicon.ico">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 4.2.1"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">cai</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">cai</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/images/manim-cover.png')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">manimTutorial</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E6%95%99%E7%A8%8B/">
                                <span class="chip bg-color">教程</span>
                            </a>
                        
                            <a href="/tags/manim/">
                                <span class="chip bg-color">manim</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/manim/" class="post-category">
                                manim
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-03-26
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2020-06-30
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    1.2k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    5 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="manim基础教程"><a href="#manim基础教程" class="headerlink" title="manim基础教程"></a>manim基础教程</h1><p>注意：  </p>
<ol>
<li><p>本文参考YouTube主Theorem of Beethoven的视频与代码然后自己继续研究得到的，有些图片是ta视频截图得到的，可以说是他的教程文字化后的汉化版，根据GitHub主页，他来自墨西哥国立自治大学，感谢外国大佬的力量，除了自己写的部分的代码，有些代码来自TA的视频与GitHub，其人<a href="https://github.com/Elteoremadebeethoven" target="_blank" rel="noopener">GitHub主页</a>，大家有条件可以支持一下他的YouTube<br>其教程也被搬运到B站:</p>
<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;box-shadow: 10px 10px 5px #888888;">
       <iframe src="//player.bilibili.com/player.html?aid=64023740&amp;bvid=BV1W4411Z7Zt&amp;cid=158849334&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;border-radius: 8px;">
       </iframe>
   </div>
</li>
<li><p>本人将于2019年9月2日开学，到时候可能忙于学业，不能做到跟进视频更新教程，其实目前教程已经大概涵盖70%的东西，到后面主要是自己读源代码自己分析，python基础很重要，有时间我还是会尽量更新的  </p>
</li>
<li>此教程虽在开源社区，但是请勿未经我允许转载，希望大家能共同维护个人劳动成果与开源精神</li>
<li>如果文档有错误或漏洞，或者有问题，欢迎在issue中提出，大家一起讨论，共同创建良好的学习环境</li>
</ol>
<h2 id="1-文件的执行"><a href="#1-文件的执行" class="headerlink" title="1. 文件的执行"></a>1. 文件的执行</h2><p><strong>命令行执行：python -m manim \path\to\yourfile.py [className] [-params]</strong></p>
<p><em>usage: manim.py [-h] [-p] [-w] [-s] [-l] [-m] [—high_quality] [-g] [-i] [-f]</em><br>                <em>[-t] [-q] [-a] [-o FILE_NAME] [-n START_AT_ANIMATION_NUMBER]</em><br>                <em>[-r RESOLUTION] [-c COLOR] [—sound] [—leave_progress_bars]</em><br>                <em>[—media_dir MEDIA_DIR]</em><br>                <em>[—video_dir VIDEO_DIR | —video_output_dir VIDEO_OUTPUT_DIR]</em><br>                <em>[—tex_dir TEX_DIR] [—livestream] [—to-twitch]</em><br>                <em>[—with-key TWITCH_KEY]</em><br>                <em>[file] [scene_names [scene_names …]]</em></p>
<p><em>positional arguments:</em><br>  <em>file                  path to file holding the python code for the scene</em><br>  <em>scene_names           Name of the Scene class you want to see</em></p>
<p><em>optional arguments:</em><br>  <em>-h, —help            show this help message and exit</em><br>  <em>-p, —preview         Automatically open the saved file once its done</em><br>  <em>-w, —write_to_movie  Render the scene as a movie file</em><br>  <em>-s, —save_last_frame</em>  <em>Save the last frame</em><br>  <em>-l, —low_quality     Render at a low quality (for faster rendering)</em><br>  <em>-m, —medium_quality  Render at a medium quality</em><br>  <em>—high_quality        Render at a high quality</em><br>  <em>-g, —save_pngs       Save each frame as a png</em><br>  <em>-i, —save_as_gif     Save the video as gif</em><br>  <em>-f, —show_file_in_finder</em> <em>Show the output file in finder</em><br>  <em>-t, —transparent     Render to a movie file with an alpha channel</em><br>  <em>-q, —quiet</em><br>  <em>-a, —write_all       Write all the scenes from a file</em><br>  <em>-o FILE_NAME, —file_name FILE_NAME</em>  <em>Specify the name of the output file, ifit should be</em><br>                        <em>different from the scene class name</em><br>  <em>-n START_AT_ANIMATION_NUMBER, —start_at_animation_number     START_AT_ANIMATION_NUMBER</em><br>                        <em>Start rendering not from the first animation,   butfrom another, specified by its index. If you passin two comma separated values, e.g. “3,6”, it will end the rendering at the second value</em><br>  <em>-r RESOLUTION, —resolution RESOLUTION</em> <em>Resolution, passed as “height,width”</em><br>  <em>-c COLOR, —color COLOR</em>  <em>Background color</em><br>  <em>—sound               Play a success/failure sound</em><br>  <em>—leave_progress_bars</em> <em>Leave progress bars displayed in terminal</em><br>  <em>—media_dir MEDIA_DIR</em> <em>directory to write media</em><br>  <em>—video_dir VIDEO_DIR</em> <em>directory to write file tree for video</em><br>  <em>—video_output_dir VIDEO_OUTPUT_DIR</em>  <em>directory to write video</em><br>  <em>—tex_dir TEX_DIR     directory to write tex</em><br>  <em>—livestream          Run in streaming mode</em><br>  <em>—to-twitch           Stream to twitch</em><br>  <em>—with-key TWITCH_KEY     Stream key for twitch</em>  </p>
<h3 id="1-1-保存为视频并立即播放"><a href="#1-1-保存为视频并立即播放" class="headerlink" title="1.1 保存为视频并立即播放"></a>1.1 <strong>保存为视频并立即播放</strong></h3><p>参数-p</p>
<p>如果有多个绘图类会出现列表让你选择</p>
<p>也可以直接指定类名(示例为Example类)生成对应的类名的视频</p>
<ul>
<li><p>fps = 15,宽854，高480：</p>
<pre class=" language-lang-bash"><code class="language-lang-bash">python -m manim \path\to\yourfile.py Example -pl
</code></pre>
</li>
<li><p>fps = 30,宽1280，高720：</p>
<pre class=" language-lang-bash"><code class="language-lang-bash">python -m manim \path\to\yourfile.py Example -pm
</code></pre>
</li>
<li><p>fps = 60,宽2560，高1440：</p>
<pre class=" language-lang-bash"><code class="language-lang-bash">python -m manim \path\to\yourfile.py Example -p
</code></pre>
</li>
</ul>
<h3 id="1-2-保留帧"><a href="#1-2-保留帧" class="headerlink" title="1.2 保留帧"></a>1.2 <strong>保留帧</strong></h3><p>-s保留最后一帧</p>
<p>当有多个类的时候会出现选择项让你选择保留哪几个绘图类的最后一帧</p>
<ul>
<li><p>保留最后一帧并立即查看：</p>
<pre class=" language-lang-bash"><code class="language-lang-bash">python -m manim \path\to\yourfile.py Example -ps
</code></pre>
</li>
<li><p>保留全部绘图类为视频：</p>
<pre class=" language-lang-bash"><code class="language-lang-bash">python -m manim \path\to\yourfile.py Example -al
python -m manim \path\to\yourfile.py Example -am
python -m manim \path\to\yourfile.py Example -a
</code></pre>
</li>
<li><p>保留全部绘图类最后一帧：</p>
<pre class=" language-lang-bash"><code class="language-lang-bash">python -m manim \path\to\yourfile.py Example -as
</code></pre>
</li>
</ul>
<h3 id="1-3-视频尺寸"><a href="#1-3-视频尺寸" class="headerlink" title="1.3 视频尺寸"></a>1.3 <strong>视频尺寸</strong></h3><p>-r HEIGHT WIDTH</p>
<ul>
<li><p>高度500 宽度600</p>
<pre class=" language-lang-bash"><code class="language-lang-bash">python -m manim \path\to\yourfile.py Example -plr 500 600
</code></pre>
</li>
<li><p>默认为16/9因此默认可以仅设置高度不需要设置宽度</p>
<p>高度为500的视频：</p>
<pre class=" language-lang-bash"><code class="language-lang-bash">python -m manim \path\to\yourfile.py Example -plr 500
</code></pre>
</li>
</ul>
<h3 id="1-4-视频通道"><a href="#1-4-视频通道" class="headerlink" title="1.4 视频通道"></a>1.4 <strong>视频通道</strong></h3><p>-t, —transparent         alpha通道，扩展名为mov</p>
<h3 id="1-5-保留进度显示条"><a href="#1-5-保留进度显示条" class="headerlink" title="1.5 保留进度显示条"></a>1.5 <strong>保留进度显示条</strong></h3><p>  —leave_progress_bars：</p>
<pre><code>python -m manim \path\to\yourfile.py Example -pl --leave_progress_bars
Media will be written to ./media\. You can change this behavior with the --media_dir flag.
Animation 0: WriteTextMobject, etc.: 100%|##############################################################################################| 15/15 [00:00&lt;00:00, 32.48it/s] 

File ready at \path\to\video.mp4

Played 2 animations
</code></pre><h3 id="1-6-从某一个动画状态（animation）开始存为视频"><a href="#1-6-从某一个动画状态（animation）开始存为视频" class="headerlink" title="1.6 从某一个动画状态（animation）开始存为视频"></a>1.6 从某一个动画状态（animation）开始存为视频</h3><p> -n START_AT_ANIMATION_NUMBER, —start_at_animation_number START_AT_ANIMATION_NUMBER</p>
<p>不是从第一个动画开始渲染，而是从索引指定的另一个动画开始渲染。 如果您传入两个逗号分隔值，例如 “3,6”，它将以第二个值渲染</p>
<pre class=" language-lang-python"><code class="language-lang-python">class ShowGraph(Scene): 
    def construct(self): 
        print("dot = Dot()")
        dot = Dot()
        self.wait(2)

        print("dot.to_edge(UL)")
        dot.to_edge(UL)
        self.play(FadeIn(dot))
        self.wait(2)

        print("text = TextMobject(\"text\")")
        text = TextMobject("text")
        self.wait(2)

        print("text.to_corner(UP)")
        text.to_corner(UP)
        self.play(Write(text))
        self.wait(2)
</code></pre>
<p>不加起始渲染运行如下：</p>
<pre class=" language-lang-bash"><code class="language-lang-bash">PS E:\programing-engineering\manim-tutorial\manim> python -m manim .\1_text_format.py ShowGraph -pl --leave_progress_bars      
Media will be written to ./media\. You can change this behavior with the --media_dir flag.
dot = Dot()
dot.to_edge(UL)
Animation 1: FadeInDot: 100%|###########################################################################################################| 15/15 [00:00<00:00, 64.27it/s] 
text = TextMobject("text")
text.to_corner(UP)
Animation 4: WriteTextMobject: 100%|####################################################################################################| 15/15 [00:00<00:00, 39.79it/s] 

File ready at E:\programing-engineering\manim-tutorial\manim\media\videos\1_text_format\480p15\ShowGraph.mp4

Played 6 animations
</code></pre>
<p>增加起始渲染：</p>
<p>从刚才的没有渲染的输出可以看出animation 1是dot.to_edge(UL)后的FadeInDot动画，所以如果-n 2则从animation 2开始，所以开始dot就已经显示在屏幕上面了</p>
<pre class=" language-lang-bash"><code class="language-lang-bash">PS E:\programing-engineering\manim-tutorial\manim> python -m manim .\1_text_format.py ShowGraph -pl -n 2  --leave_progress_bars
Media will be written to ./media\. You can change this behavior with the --media_dir flag.
dot = Dot()
dot.to_edge(UL)
Animation 1: FadeInDot: 100%|###########################################################################################################| 15/15 [00:00<00:00, 84.02it/s] 
text = TextMobject("text")
text.to_corner(UP)
Animation 4: WriteTextMobject: 100%|####################################################################################################| 15/15 [00:00<00:00, 58.52it/s] 

File ready at E:\programing-engineering\manim-tutorial\manim\media\videos\1_text_format\480p15\ShowGraph.mp4

Played 6 animations
</code></pre>
<p><img src="1565761708445.png" alt="1565761708445"></p>
<p>其他的参数不一一介绍，自行查看英文说明</p>
<h3 id="1-7-默认显示进度条"><a href="#1-7-默认显示进度条" class="headerlink" title="1.7 默认显示进度条"></a>1.7 默认显示进度条</h3><p>默认设置在manimlib/config.py，manimlib/extract_secne.py与manimlib/scene.py里进行定义，可以修改该文件进行修改默认配置,注意因为修改源码所以要小心</p>
<p>例如：在上面的三个文件里：</p>
<p>将里面所有的“—leave_progress_bars”和“leave_progress_bars”修改为“—remove_progress_bars”与“remove__progress_bars”,同时将</p>
<p><img src="1567668580431.png" alt="1567668580431"></p>
<p>此处的action改成不显示</p>
<p>这样如果加上—remove_progress_bars就不会显示进度条了，而默认是显示进度条的</p>
<h3 id="1-8-改变视频存放位置"><a href="#1-8-改变视频存放位置" class="headerlink" title="1.8 改变视频存放位置"></a>1.8 改变视频存放位置</h3><p>改变<em>manimlib/constants.py</em>中的：</p>
<pre class=" language-lang-python"><code class="language-lang-python">if not os.path.isdir(MEDIA_DIR):
    MEDIA_DIR = "./media"
</code></pre>
<p> 改<code>./media</code>为你想要存放的位置</p>
<h3 id="1-9-存为gif"><a href="#1-9-存为gif" class="headerlink" title="1.9 存为gif"></a>1.9 存为gif</h3><p>You can use <code>python -m manim animation.py name_scene -im</code> to render gif medium quality, or <code>python -m manim animation.py name_scene -gm</code> to render all frames as images, the images are saved in a folder</p>
<h2 id="2-显示操作"><a href="#2-显示操作" class="headerlink" title="2. 显示操作"></a>2. 显示操作</h2><h3 id="2-1-基本步骤（以TextMobject为例）"><a href="#2-1-基本步骤（以TextMobject为例）" class="headerlink" title="2.1 基本步骤（以TextMobject为例）"></a>2.1 基本步骤（以TextMobject为例）</h3><pre class=" language-lang-python"><code class="language-lang-python">from manimlib.imports import *

class WriteText(Scene): 
    def construct(self): 
        text = TextMobject("A Text")
        text.to_edge(UP)
        text.move_to(1*UP+0.1*RIGHT)
          //以play为例
        self.play(SomeWriteMethod(text),run_time = seconds)
        self.wait(seconds)
        self.remove(text)
</code></pre>
<h3 id="2-5-位置相关的函数"><a href="#2-5-位置相关的函数" class="headerlink" title="2.5 位置相关的函数"></a>2.5 位置相关的函数</h3><h4 id="2-5-1to-edge-和to-corner"><a href="#2-5-1to-edge-和to-corner" class="headerlink" title="2.5.1to_edge()和to_corner()"></a><strong>2.5.1</strong>to_edge()和to_corner()</h4><p><strong>someObject.to_edge(DIRECTION的线性组合,buff = number)</strong></p>
<p><strong>someObject.to_corner(DIRECTION的四个组合方向,buff = number)</strong></p>
<p>to_edge参数可以是<strong>任意方向</strong>(方向有哪些见附录中方向常数列表)以及它们的线性组合，如<strong>0.1*RIGHT+0.2*UP</strong>，buff 两者的边缘的距离</p>
<p>to_corner仅接受组合方向<strong>UR，UL，DR，DL</strong></p>
<p><img src="1565752494266.png" alt="1565752494266"></p>
<ul>
<li>如果没有to_edge和to_center默认为中间（<strong>ORIGIN</strong>）</li>
<li><strong>someObject.to_edge(UP+RIGHT)</strong>完全等效于<strong>someObject.to_corner(UR)</strong>,其余四个方向同理</li>
</ul>
<h4 id="2-5-2-move-to"><a href="#2-5-2-move-to" class="headerlink" title="2.5.2 move_to()"></a>2.5.2 move_to()</h4><p><strong>someObject.move_to(DIRECTION的线性组合 or numpy的向量)</strong></p>
<p>在当前位置移动到对应的位置</p>
<p>参数可以是<strong>UP，DOWN，LEFT，RIGHT等</strong>的倍数，可以非整数，单位宽度大概是4倍默认字体的行高，<strong>下面只要跟这八个个固定值有关的均是如此</strong></p>
<pre class=" language-lang-python"><code class="language-lang-python">someObject.move_to(UP+2*RIGHT)
</code></pre>
<p>参数也可以是numpy向量：</p>
<pre class=" language-lang-python"><code class="language-lang-python">vec = np.array([1,2,0])
someObject.move_to(vec)
</code></pre>
<p>因为图案的位置向量可以由get_center得到，所以可以如下操作：</p>
<pre class=" language-lang-python"><code class="language-lang-python">someObject.move_to(someObject2.get_center()+2*RIGHT)
</code></pre>
<p>参数还可以是另外一个图案，表示的位置是该图案的几何中心：</p>
<pre class=" language-lang-python"><code class="language-lang-python">someObject.move_to(someObject2)
</code></pre>
<h4 id="2-5-3-next-to"><a href="#2-5-3-next-to" class="headerlink" title="2.5.3 next_to()"></a>2.5.3 next_to()</h4><p><strong>someObject1.next_to(someObject2,DIRECTION,buff=number)</strong> </p>
<p>someObject1对于someObject2的相对位置</p>
<p>与move_to的区别在于，next_to表示的是边界的距离，而不是中心距离</p>
<p><img src="1565755487243.png" alt="1565755487243"></p>
<p>如：text1.next_to(text2,LEFT,buff=2) ：</p>
<p><img src="1565702556749.png" alt="1565702556749"></p>
<h4 id="2-5-4-shift"><a href="#2-5-4-shift" class="headerlink" title="2.5.4 shift()"></a>2.5.4 shift()</h4><p><strong>someObject.shift(DIRECTION*number)：</strong></p>
<p>自己垂直方向平移</p>
<h4 id="2-5-5-rotate"><a href="#2-5-5-rotate" class="headerlink" title="2.5.5 rotate()"></a>2.5.5 rotate()</h4><p><strong>someObject.rotate(PI*number或者number，point)：</strong> </p>
<p>逆时针旋转</p>
<p>如果相对图案为空，则自旋</p>
<p>如：</p>
<pre class=" language-lang-python"><code class="language-lang-python">class RotateObject(Scene):
    def construct(self):
        textM = TextMobject("Text")
        textC = TextMobject("Reference text")
        textM.shift(UP)
        textM.rotate(PI/4) 
        self.play(Write(textM),Write(textC))
        self.wait(2)
</code></pre>
<p><img src="1565702942360.png" alt="1565702942360"></p>
<p>否则相对 相对图案旋转：</p>
<pre class=" language-lang-python"><code class="language-lang-python">class RotateObject(Scene):
    def construct(self):
        textM = TextMobject("Text")
        textC = TextMobject("Reference text")
        textM.rotate(PI/4,textC) 
        self.play(Write(textM),Write(textC))
        self.wait(2)
</code></pre>
<h4 id="2-5-6-flip"><a href="#2-5-6-flip" class="headerlink" title="2.5.6 flip()"></a>2.5.6 flip()</h4><p><strong>someObject.flip(DIRECTION)：</strong></p>
<p>按照矢量量方向翻转180度，遵循右手定则。</p>
<p>如text.flip(UP)：</p>
<p><img src="1565703056789.png" alt="1565703056789"></p>
<h3 id="2-6-播放动画"><a href="#2-6-播放动画" class="headerlink" title="2.6 播放动画"></a>2.6 播放动画</h3><h4 id="2-6-1-play"><a href="#2-6-1-play" class="headerlink" title="2.6.1 play()"></a>2.6.1 <strong>play</strong>()</h4><p>动画效果，可以是多个text，这个函数是多线程的，所以不会阻塞就会进入下一行操作</p>
<p><em>（如果下一个操作是remove掉text而没有使用wait函数进行等待，最终效果会变成立即销毁text即没有显示text，下面的add也同理）</em></p>
<ol>
<li><p><strong>play(SomePlayMethod(someObject),run_time = seconds)：</strong>播放某种动画方法</p>
<p>如果希望并行同时播放多个动画，仅仅是python语法问题，给出如下例子模板：</p>
<pre class=" language-lang-python"><code class="language-lang-python">class concurrent(Scene):
    def construct(self):
        dot1 = Dot()
        dot2 = Dot()
        dot2.shift(UP)
        dot3 = Dot()
        dot3.shift(DOWN)

        # 单个动画的演示
        self.play(Write(dot1))
        # 多个动画演示
        self.play(*[
            Transform(i.copy(),j) for i,j in zip([dot1,dot1],[dot2,dot3])
            ])# 故意使用i,j是为了显示zip的使用

        self.wait()
</code></pre>
</li>
<li><p><strong>play(someObjectX.functionX,functionParamX,</strong></p>
<p>​     <strong>someObjectX.functionX,functionParamX,</strong></p>
<p><strong>……</strong></p>
<p><strong>run_time=seconds):同时改变某种或多种属性</strong></p>
<pre class=" language-lang-python"><code class="language-lang-python">class ChangeColorAndSizeAnimation(Scene):
    def construct(self):
        text = TextMobject("Text")
        text.scale(2)
        text.shift(LEFT*2)
        self.play(Write(text))
        self.wait()
        self.play(
                text.shift, RIGHT*2,
                text.scale, 2,
                text.set_color, RED,
                run_time=2,
            )
        self.wait()
</code></pre>
</li>
</ol>
<h5 id="2-6-1-1-显示动画函数SomePlayMethods"><a href="#2-6-1-1-显示动画函数SomePlayMethods" class="headerlink" title="2.6.1.1 显示动画函数SomePlayMethods"></a>2.6.1.1 显示动画函数SomePlayMethods</h5><p>动画函数，主要包含下列几个：</p>
<ul>
<li><p><em>\manimlib\animation\fading.py</em>：渐变效果 </p>
<p><strong>FadeXXX(someObject)</strong></p>
<ul>
<li>包含FadeIn，FadeInFromDown，FadeOutAndShiftDown，FadeInFromPoint，FadeInFromLarge等等</li>
<li>解释：fade in/out 渐入/出；shift down 垂直下降</li>
</ul>
</li>
<li><p><em>\manimlib\animation\creation.py</em>：书写效果</p>
<p><strong>ShowCreation(someObject)</strong></p>
<ul>
<li>无法清楚表达，具体可以自行尝试看效果</li>
</ul>
<p><strong>UnCreate(someObject)</strong></p>
<ul>
<li>倒放ShowCreation动画效果</li>
</ul>
<p><strong>DrawBorderThenFill(someObject)</strong></p>
<ul>
<li>画出边界然后填充</li>
</ul>
<p><strong>Write(someObject)</strong></p>
<ul>
<li>继承自DrawBorderThenFill，增加从左往右逐渐显示的效果</li>
</ul>
</li>
<li><p><em>\manimlib\animation\transform.py</em>从一个渐变成另一个</p>
<ul>
<li><strong>Transform(someObject1,someObject2)</strong></li>
<li><strong>ReplacementTransform(someObject1,someObject2)</strong></li>
</ul>
<p>两者的异同：</p>
<p><strong>共同点：</strong>显示特效相同</p>
<p><strong>不同点：</strong> <strong>Transform</strong>显示在画布上的object永远是someObject1</p>
<p>伪代码：</p>
<pre class=" language-lang-python"><code class="language-lang-python">Transform(someObject1,someObject2):
    show someObject1 on screen
    show the transform course of someObject1 to someObject2
    someObject1 = someObject2
    show updated someObject1 on screen
</code></pre>
<p>​                <strong>ReplacementTransform</strong>显示在画布上的从someObject1变成了someObject2</p>
<p>伪代码：</p>
<pre class=" language-lang-python"><code class="language-lang-python">ReplacementTransform(someObject1,someObject2):
    show someObject1 on screen
    show the transform course of someObject1 to someObject2
    someObject1 = someObject2
    show someObject2 on screen    # 不同点在此
    remove someObject1 from screen # 不是从内存删除，仅仅不可见
</code></pre>
<p>用两段代码来看看效果：</p>
<pre class=" language-lang-python"><code class="language-lang-python">class TextArray(Scene):
    def construct(self):
        text = TextMobject("tex1","text2","text3")
        text[0].shift(2*LEFT)
        text[0].set_color(RED)
        text[1].shift(LEFT)
        text[1].set_color(BLUE)
        self.play(Write(text[0]))
        self.wait(2)
        # 显示的还是text[0]只是text[0]值变成了text[1]
        self.play(Transform(text[0],text[1]))
        # 此时没有让text[0]消失，但让text[1]显现并转换为text[2]
        # 最终text[0]的值为初始text[1]的值，text[1]的值为初始text[2]的值
        self.play(Transform(text[1],text[2]))
        # 最终屏幕上显示的是text[0]和text[1]
        self.wait(3)
</code></pre>
<p><img src="1565773952504.png" alt="1565773952504"></p>
<p><img src="1565773963920.png" alt="1565773963920"></p>
<p><img src="1565773975419.png" alt="1565773975419"></p>
<p>将上面的替换成ReplacementTransform：</p>
<pre class=" language-lang-python"><code class="language-lang-python">class TextArray(Scene):
    def construct(self):
        text = TextMobject("tex1","text2","text3")
        text[0].shift(2*LEFT)
        text[0].set_color(RED)
        text[1].shift(LEFT)
        text[1].set_color(BLUE)
        self.play(Write(text[0]))
        self.wait(2)
        # 显示的是text[1]但是text[0]值也变成了text[1]，text[0]消失
        self.play(ReplacementTransform(text[0],text[1]))
        # 显示text[2],text[1]值也变成了text[2]，text[1]消失
        # 最终text[0]的值为初始text[1]的值，text[1]的值为初始text[2]的值
        self.play(ReplacementTransform(text[1],text[2]))
        # 最终显示的是text[2]
        self.wait(3)
</code></pre>
<p>最后一幅图不一样：</p>
<p><img src="1565774075040.png" alt="1565774075040"></p>
<p><strong>如果希望不要改变someObject1的值可以使用：someObject1.copy()进行深度拷贝</strong></p>
<p>someObject1.copy()执行的伪代码：</p>
<pre class=" language-lang-python"><code class="language-lang-python">someObject1.copy():
    new object
    object.allValue = self.allValue
    return object
</code></pre>
</li>
<li><p><strong>MoveToTarget(someObject):</strong></p>
<p>仅对自身产生变化</p>
<p>比较简单，用示例代码即可以看懂：</p>
<pre class=" language-lang-python"><code class="language-lang-python">class ChangeColorAndSizeAnimation(Scene):
    def construct(self):
         text = TextMobject("Text")
         self.play(Write(text))

         text.generate_target()
         text.target = TextMobject("Target")
         text.target.set_color(RED)
         text.target.scale(2)
         text.target.shift(LEFT)

         self.play(MoveToTarget(text),run_time = 2)
         self.wait()
</code></pre>
</li>
<li><p><em>\manimlib\animation\growing.py</em></p>
<ul>
<li><p><strong>GrowFromXXX(someObject)</strong></p>
<p>GrowFromCenter,GrowFromPoint,GrowFromEdge,GrowArrow等等</p>
</li>
</ul>
</li>
<li><p><em>manimlib\animation\update.py</em></p>
<ul>
<li><p><strong>UpdateFromFunc(obj,update_function)</strong></p>
<p>同步播放,很好理解，见例子：</p>
<p>更多同步并发的播放见<strong>2.9</strong></p>
<pre class=" language-lang-python"><code class="language-lang-python">class Updater(Scene):
    def construct(self):
        dot = Dot()
        text = TextMobject("Label")\
               .next_to(dot,RIGHT,buff=SMALL_BUFF)

        self.add(dot,text)

        def update_text(obj):
            obj.next_to(dot,RIGHT,buff=SMALL_BUFF)

        # Only works in play
        self.play(
                dot.shift,UP*2,
                UpdateFromFunc(text,update_text)
            )

        self.wait()
</code></pre>
</li>
</ul>
</li>
</ul>
<h5 id="2-6-1-2-run-time"><a href="#2-6-1-2-run-time" class="headerlink" title="2.6.1.2 run_time"></a>2.6.1.2 run_time</h5><p>动画从开始到结束所用的时间，决定了<strong>动画的快慢</strong>（动画write的快慢是固定的不由runtime决定，但是到达了runtime又没有后面的wait，write会被截断），而非动画播放完了继续等待到run_time指定的时间，注意如果runtime太短可能导致动画write</p>
<h4 id="2-6-1-3-rate-func"><a href="#2-6-1-3-rate-func" class="headerlink" title="2.6.1.3 rate_func"></a>2.6.1.3 rate_func</h4><p>直译为速度函数，即内定的动画函数</p>
<p>分为三个值：<strong>there_and_back来回，linear一去不复返，smooth平滑</strong>（速度先为0，然后加快，到了中间减速最后到达终点为0）</p>
<p>例：</p>
<pre class=" language-lang-python"><code class="language-lang-python"> self.play(
                triangle.shift,RIGHT*2,
                rate_func=smooth, # Change this with: linear,smooth
                run_time=5
            )
</code></pre>
<h4 id="2-6-2-add"><a href="#2-6-2-add" class="headerlink" title="2.6.2 add()"></a>2.6.2 add()</h4><p><strong>add(someObject1,someObject2,…)</strong></p>
<p>无动画添加文字，可以是多个text</p>
<h4 id="2-6-3-wait"><a href="#2-6-3-wait" class="headerlink" title="2.6.3 wait()"></a>2.6.3 wait()</h4><p><strong>wait(int seconds)：</strong></p>
<p>等待动画停留时间，如果没有参数则默认等待到将动画播放完为止</p>
<h4 id="2-6-4-remove"><a href="#2-6-4-remove" class="headerlink" title="2.6.4 remove()"></a>2.6.4 remove()</h4><p><strong>remove(someObject1,someObject2,…)：</strong></p>
<p>移除text，可以是多个text，注意FadeOut类的动画虽然自带消失效果但是该变量还是会停留在内存中</p>
<h3 id="2-7-设置颜色"><a href="#2-7-设置颜色" class="headerlink" title="2.7 设置颜色"></a>2.7 设置颜色</h3><p><strong>someObject.set_color(COLOR)</strong></p>
<p>COLOR有哪些见附录的颜色一栏，COLOR本质上是一个字符串所以可以自定义字符串传入：</p>
<p><strong>someObject.set_color(string)</strong></p>
<p>如：</p>
<pre class=" language-lang-python"><code class="language-lang-python">someObject.set_color("#0000FF")
</code></pre>
<h3 id="2-8-缩放大小"><a href="#2-8-缩放大小" class="headerlink" title="2.8 缩放大小"></a>2.8 缩放大小</h3><p><strong>someObject.scale(number)</strong></p>
<pre class=" language-lang-python"><code class="language-lang-python">class TextArray(Scene):
    def construct(self):
        dot1 = Dot()
        dot1.scale(3)
        dot1.shift(UP)
        dot2 = Dot()
        self.add(dot1,dot2)
        self.wait(3)
</code></pre>
<p><img src="1565769895077.png" alt="1565769895077"></p>
<h3 id="2-9-同步播放动画"><a href="#2-9-同步播放动画" class="headerlink" title="2.9 同步播放动画"></a>2.9 同步播放动画</h3><p>TODO：<strong>暂时没有时间理解源码</strong></p>
<p>让某一个物体（mobject）跟随另一个物体的移动而并行移动（使用其他移动方式，路径）</p>
<p><em>manimlib\mobject\mobject.py</em></p>
<ul>
<li><p><strong>add_updater(update_function, index=None, call_updater=True)</strong></p>
<ul>
<li>update_function：更新函数，函数传入一个object对象，函数内部有一系列对该对象和已知的对象进行的一系列操作，可以是lambda表达式</li>
</ul>
<p>例子：让一个点在“label”文字右边，随着文字的移动，始终保持在其右侧</p>
</li>
</ul>
<pre class=" language-lang-python"><code class="language-lang-python"># author:TB
class AddUpdater1(Scene):
    def construct(self):
        dot = Dot()
        text = TextMobject("Label")\
               .next_to(dot,RIGHT,buff=SMALL_BUFF)

        self.add(dot,text)

        # Update function 更新函数
        def update_text(obj):
            obj.next_to(dot,RIGHT,buff=SMALL_BUFF)

        # Add update function to the objects
        # 把更新函数加给对象
        text.add_updater(update_text)

        # 如果想简洁，lambda表达式如下：
        # text.add_updater(lambda m: m.next_to(dot,RIGHT,buff=SMALL_BUFF))
        # 此时下面的remove_updater(update_text)不能继续使用，需要改为clear_updaters

        # Add the object again 重新加入text
        # 注意这个步骤不能少，否则看不到！！！
        # 即使之前加入过，现在还是要重新加入
        self.add(text)

        self.play(dot.shift,UP*2)

        # Remove update function
        text.remove_updater(update_text)

        self.wait()
</code></pre>
<ul>
<li><p><strong>remove_updater(update_function)</strong>取消并行播放函数</p>
</li>
<li><p><strong>clear_updaters(recursive=True)</strong>取消所有的并行播放函数</p>
</li>
<li><p><strong>UpdateFromFunc(Animation)</strong></p>
<p>见<strong>2.6.1.1</strong>,注意这个函数仅在play函数中生效，play结束后就不会继续同步</p>
</li>
</ul>
<p>更多例子（有时间再补充）：<a href="https://github.com/Elteoremadebeethoven/AnimationsWithManim/blob/master/English/update_successions/update_successions.py" target="_blank" rel="noopener">TB的更新函数页面</a></p>
<h2 id="3-text数组"><a href="#3-text数组" class="headerlink" title="3. text数组"></a>3. text数组</h2><p>在2中所有的显示方法几乎都可以对数组成立，</p>
<p>如文字串：</p>
<pre class=" language-lang-python"><code class="language-lang-python">class TextArray(Scene):
    def construct(self):
        text = TextMobject("A","B","C","D","E","F")
        text[0].set_color(RED)
        text[1].set_color(ORANGE)
        text[2].set_color(YELLOW)
        text[3].set_color(GREEN)
        text[4].set_color(BLUE) #Hexadecimal color
        self.play(Write(text))
        self.wait(2)
</code></pre>
<p><img src="1565768302203.png" alt="1565768302203"></p>
<p>还可以拼接为LaTeX串(此处不能用TextMobject代替，否则报错)：</p>
<pre class=" language-lang-python"><code class="language-lang-python">class TexArray(Scene):
    def construct(self):
        text = TexMobject("A","{B","\\over","C}","D","E")
        text[0].set_color(RED)
        text[1].set_color(ORANGE)
        text[2].set_color(YELLOW)
        text[3].set_color(GREEN)
        text[4].set_color(BLUE)
        text[5].set_color(BLUE)
        self.play(Write(text))
        self.wait(2)
</code></pre>
<p><img src="1565769578088.png" alt="1565769578088"></p>
<p>对于数组可以直接如同对单个object操作,如：</p>
<pre class=" language-lang-python"><code class="language-lang-python"> text.shift(UP)
</code></pre>
<p><strong>注意：</strong></p>
<p><strong>text = TextMobject(string）是一维数组</strong></p>
<p><strong>当text = TextMobject(string1，string2，….)中所有的string均为字母的时候，text为二维数组但是每一个子数组大小仅为1</strong></p>
<p><strong>如果有任意一个string是多个字母则text是二维数组</strong></p>
<h2 id="4-基础动画类-Scene"><a href="#4-基础动画类-Scene" class="headerlink" title="4. 基础动画类 Scene"></a>4. 基础动画类 Scene</h2><p>所有的动画均是scene类的子类产生的，因此scene的功能比较少，主要是对一些基础的属性进行配置</p>
<p><strong><em>\manimlib\scene\scene.py</em></strong></p>
<p>变量的值得初始定义见下：</p>
<pre class=" language-lang-python"><code class="language-lang-python"># \manimlib\scene\scene.py
CONFIG = {
        "camera_class": Camera,
        "camera_config": {},
        "file_writer_config": {},
        "skip_animations": False,
        "always_update_mobjects": False,
        "random_seed": 0,
        "start_at_animation_number": None,
        "end_at_animation_number": None,
        "leave_progress_bars": False,
    }
</code></pre>
<p>其中<strong>camera_config</strong>是对视频的处理，由<strong>camera类</strong>完成:    </p>
<p><strong><em>\manimlib\camera\camera.py</em></strong></p>
<pre class=" language-lang-python"><code class="language-lang-python"># \manimlib\camera\camera.py
CONFIG = {
# 背景颜色
        "background_image": None,
# 视频的高宽与帧率
        "pixel_height": DEFAULT_PIXEL_HEIGHT,
        "pixel_width": DEFAULT_PIXEL_WIDTH,
        "frame_rate": DEFAULT_FRAME_RATE,
# Note: frame height and width will be resized to match
# the pixel aspect ratio
# FRAME_HEIGHT = 8.0
# FRAME_WIDTH = FRAME_HEIGHT * DEFAULT_PIXEL_WIDTH /                         DEFAULT_PIXEL_HEIGHT
        "frame_height": FRAME_HEIGHT,
        "frame_width": FRAME_WIDTH,
# 默认方向
        "frame_center": ORIGIN,
# 背景颜色
        "background_color": BLACK,
        "background_opacity": 1,
# Points in vectorized mobjects with norm greater
# than this value will be rescaled.
        "max_allowable_norm": FRAME_WIDTH,
        "image_mode": "RGBA",
        "n_channels": 4,
        "pixel_array_dtype": 'uint8',
# z_buff_func is only used if the flag above is set to True.
# round z coordinate to nearest hundredth when comparring
        "z_buff_func": lambda m: np.round(m.get_center()[2], 2),
        "cairo_line_width_multiple": 0.01,
    }
</code></pre>
<p>所有的动画都是继承自Scene,所以动画的某些特定的属性可以通过CONFIG修改：</p>
<p>例子：</p>
<p>插入背景图片</p>
<pre class=" language-lang-python"><code class="language-lang-python">class TextLike1DArrays(Scene):
    CONFIG={
        "camera_config": {
            "background_image": r"1.png",
        },
    }
    def construct(self):
        self.add(TextMobject("Text").set_color(RED))
        self.wait()
</code></pre>
<p><img src="1565833717545.png" alt="1565833717545"></p>
<h2 id="5-二维坐标类-GraphScene"><a href="#5-二维坐标类-GraphScene" class="headerlink" title="5. 二维坐标类 GraphScene"></a>5. 二维坐标类 GraphScene</h2><p><strong>\manimlib\scene\graph_scene.py</strong></p>
<p>继承自Scene类，用来绘制坐标</p>
<p>属性如下：</p>
<pre class=" language-lang-python"><code class="language-lang-python">CONFIG = {
        "x_min": -1,
        "x_max": 10,
        "x_axis_width": 9,
        "x_tick_frequency": 1,
        "x_leftmost_tick": None,  # Change if different from x_min
        "x_labeled_nums": None,
        "x_axis_label": "$x$",
        "y_min": -1,
        "y_max": 10,
        "y_axis_height": 6,
        "y_tick_frequency": 1,
        "y_bottom_tick": None,  # Change if different from y_min
        "y_labeled_nums": None,
        "y_axis_label": "$y$",
        "axes_color": GREY,
        "graph_origin": 2.5 * DOWN + 4 * LEFT,
        "exclude_zero_label": True,
        "default_graph_colors": [BLUE, GREEN, YELLOW],
        "default_derivative_color": GREEN,
        "default_input_color": YELLOW,
        "default_riemann_start_color": BLUE,
        "default_riemann_end_color": GREEN,
        "area_opacity": 0.8,
        "num_rects": 50,
    }
</code></pre>
<p>一般流程是：</p>
<pre class=" language-lang-python"><code class="language-lang-python">class Graph2D(GraphScene):
    def x_2(self, x):
        return x**2

    def construct(self):
        self.setup_axes(animate=True)
        graph = self.get_graph(self.x_2,color = GREEN,x_min = 2,x_max = 4)
        self.play(ShowCreation(graph),run_time = 2)
        self.wait()
</code></pre>
<p><img src="1565835900946.png" alt="1565835900946"></p>
<h3 id="5-1-setup-axes"><a href="#5-1-setup-axes" class="headerlink" title="5.1 setup_axes()"></a>5.1 setup_axes()</h3><p><strong>setup_axes(animate=Bool)：</strong></p>
<p>默认没有动画效果，setup_axes(animate=True)则会显示动画 </p>
<h3 id="5-2-get-graph"><a href="#5-2-get-graph" class="headerlink" title="5.2 get_graph()"></a>5.2 get_graph()</h3><p><strong>get_graph(func, color=None,x_min=None,x_max=None, **kwargs)</strong></p>
<p>得到坐标系的句柄，并设置值</p>
<h3 id="5-3-coords-to-point"><a href="#5-3-coords-to-point" class="headerlink" title="5.3 coords_to_point()"></a>5.3 coords_to_point()</h3><p><strong>coords_to_point(x, y)</strong></p>
<p>坐标变成对应的帧中的点</p>
<h3 id="5-4-point-to-coords"><a href="#5-4-point-to-coords" class="headerlink" title="5.4 point_to_coords()"></a>5.4 point_to_coords()</h3><p><strong>point_to_coords(point)</strong></p>
<p>帧中的点转换为坐标，返回x,y组成的元组</p>
<h3 id="5-5-get-graph-label"><a href="#5-5-get-graph-label" class="headerlink" title="5.5 get_graph_label()"></a>5.5 get_graph_label()</h3><p><strong>get_graph_label(graph,label=”f(x)”, x_val=None,direction=RIGHT, buff=MED_SMALL_BUFF, color=None)</strong></p>
<p>graph：从graph中获得坐标标签</p>
<p>label默认为“f(x)”,可以改成自己想要的函数</p>
<p>x_val：x的取值范围</p>
<p>buff：距离边界的距离</p>
<p>color：颜色</p>
<h3 id="5-6-get-vertical-line-to-graph"><a href="#5-6-get-vertical-line-to-graph" class="headerlink" title="5.6 get_vertical_line_to_graph()"></a>5.6 get_vertical_line_to_graph()</h3><p><strong>get_vertical_line_to_graph(x, graph,line_class=Line,**line_kwargs)</strong></p>
<p>得到竖直线，起点为(x,0)终点为(x,f(x))</p>
<p>返回line_class类型的图像</p>
<h3 id="5-7-get-vertical-lines-to-graph"><a href="#5-7-get-vertical-lines-to-graph" class="headerlink" title="5.7 get_vertical_lines_to_graph()"></a>5.7 get_vertical_lines_to_graph()</h3><p><strong>get_vertical_lines_to_graph( graph,x_min=None,x_max=None, num_lines=20, **kwargs)</strong></p>
<p>同时得到画多条竖直线</p>
<p>返回line_class类型的VGroup</p>
<h3 id="5-8-改变坐标标签的颜色"><a href="#5-8-改变坐标标签的颜色" class="headerlink" title="5.8 改变坐标标签的颜色"></a>5.8 改变坐标标签的颜色</h3><blockquote>
<p><a href="https://github.com/Elteoremadebeethoven/AnimationsWithManim/blob/master/English/6a_plots_2D/change_label_colors.md#change-labels-colors-in-graphscene" target="_blank" rel="noopener">https://github.com/Elteoremadebeethoven/AnimationsWithManim/blob/master/English/6a_plots_2D/change_label_colors.md#change-labels-colors-in-graphscene</a></p>
<p>Change labels colors in <code>GraphScene</code></p>
<p>Add this to the <code>CONFIG</code> dictionary:在CONFIG中加入：</p>
<pre><code> "x_label_color":RED,
 "y_label_color":BLUE
</code></pre><p>In the <code>setup_axes</code> method change the lines：在源码的setup_axes中的两句：</p>
<pre><code>         x_label = TextMobject(self.x_axis_label)
         # and
         y_label = TextMobject(self.y_axis_label)
</code></pre><p>with改为</p>
<pre><code>         x_label = TextMobject(self.x_axis_label,color=self.x_label_color)
         # and
         y_label = TextMobject(self.x_axis_label,color=self.y_label_color)
</code></pre></blockquote>
<p>效果：</p>
<p><img src="ChanceColorLabels.png" alt="img"></p>
<h2 id="6-文本类-TextMobject"><a href="#6-文本类-TextMobject" class="headerlink" title="6. 文本类 TextMobject"></a>6. 文本类 TextMobject</h2><ol>
<li><p><strong>TextMobject(string)：</strong>传入一个字符串</p>
<p>字符串可以是普通字符串或LaTeX格式或两者混合：</p>
<pre class=" language-lang-python"><code class="language-lang-python">TextMobject("This is a regular text")
</code></pre>
<pre class=" language-lang-python"><code class="language-lang-python">TextMobject("\\displaystyle\\frac{x}{y}") # displaystyle使字体能显示正常大小
</code></pre>
<p>两者混合则需要使用“$$”或者“$”包括：</p>
<pre class=" language-lang-python"><code class="language-lang-python">TextMobject("""
            This is a regular text,
            $\\displaystyle\\frac{x}{y}$,
            $$x^2+y^2=a^2$$
            """)
</code></pre>
<p><img src="1565700699069.png" alt="1565700699069"></p>
<p>自然地，可以用LaTeX调整字体大小：</p>
<pre class=" language-lang-python"><code class="language-lang-python"> class SizeTextOnLaTeX(Scene):
    def construct(self):
        textHuge = TextMobject("{\\Huge Huge Text 012.\\#!?} Text")
        texthuge = TextMobject("{\\huge huge Text 012.\\#!?} Text")
        textLARGE = TextMobject("{\\LARGE LARGE Text 012.\\#!?} Text")
        textLarge = TextMobject("{\\Large Large Text 012.\\#!?} Text")
        textlarge = TextMobject("{\\large large Text 012.\\#!?} Text")
        textNormal = TextMobject("{\\normalsize normal Text 012.\\#!?} Text")
        textsmall = TextMobject("{\\small small Text 012.\\#!?} Texto normal")
        textfootnotesize = TextMobject("{\\footnotesize footnotesize Text 012.\\#!?} Text")
        textscriptsize = TextMobject("{\\scriptsize scriptsize Text 012.\\#!?} Text")
        texttiny = TextMobject("{\\tiny tiny Texto 012.\\#!?} Text normal")
        textHuge.to_edge(UP)
        texthuge.next_to(textHuge,DOWN,buff=0.1)
        textLARGE.next_to(texthuge,DOWN,buff=0.1)
        textLarge.next_to(textLARGE,DOWN,buff=0.1)
        textlarge.next_to(textLarge,DOWN,buff=0.1)
        textNormal.next_to(textlarge,DOWN,buff=0.1)
        textsmall.next_to(textNormal,DOWN,buff=0.1)
        textfootnotesize.next_to(textsmall,DOWN,buff=0.1)
        textscriptsize.next_to(textfootnotesize,DOWN,buff=0.1)
        texttiny.next_to(textscriptsize,DOWN,buff=0.1)
        self.add(textHuge,texthuge,textLARGE,textLarge,textlarge,textNormal,textsmall,textfootnotesize,textscriptsize,texttiny)
        self.wait(3)
</code></pre>
<p><img src="1565704370228.png" alt="1565704370228"></p>
</li>
<li><p><strong>TextMobject(string1,string2,string3,…)：</strong>传入多个字符串，返回TextMobject数组，可以按照下表索引数组的值</p>
</li>
</ol>
<h2 id="7-LaTeX文本类-TexMobject"><a href="#7-LaTeX文本类-TexMobject" class="headerlink" title="7. LaTeX文本类 TexMobject"></a>7. LaTeX文本类 TexMobject</h2><p><strong><em>\manimlib\mobject\svg\tex_mobject.py</em></strong></p>
<p>显示为LaTeX格式(在想要LaTeX字符串按照数组显示时必须使用这个实现)</p>
<pre class=" language-lang-python"><code class="language-lang-python">CONFIG = {
        "template_tex_file_body": TEMPLATE_TEX_FILE_BODY,
        # 笔画宽度
        "stroke_width": 0,
        # 填充不透明度
        "fill_opacity": 1.0,
        # 笔画的描边宽度
        "background_stroke_width": 1,
        # 笔画的描边颜色
        "background_stroke_color": BLACK,
        "should_center": True,
        "height": None,
        "organize_left_to_right": False,
        "alignment": "",
    }
</code></pre>
<p>例：</p>
<pre class=" language-lang-python"><code class="language-lang-python">class Formula(Scene): 
    def construct(self): 
        formula = TexMobject("This is a sentence")
        self.play(Write(formula))
        self.wait(3)
</code></pre>
<p><img src="1565769340216.png" alt="1565769340216"></p>
<h2 id="8-二维图形类"><a href="#8-二维图形类" class="headerlink" title="8. 二维图形类"></a>8. 二维图形类</h2><p><strong><em>\manimlib\mobject\geometry.py</em></strong></p>
<p>TODO：待完善</p>
<h3 id="8-1-点Dot"><a href="#8-1-点Dot" class="headerlink" title="8.1 点Dot"></a>8.1 点Dot</h3><pre class=" language-lang-python"><code class="language-lang-python">CONFIG = {
        "radius": DEFAULT_DOT_RADIUS,
        "stroke_width": 0,
        "fill_opacity": 1.0,
        "color": WHITE
    }
</code></pre>
<h3 id="8-2-圆形Circle"><a href="#8-2-圆形Circle" class="headerlink" title="8.2 圆形Circle"></a>8.2 圆形Circle</h3><p>继承自Arc</p>
<pre class=" language-lang-python"><code class="language-lang-python">CONFIG = {
        "color": RED,
        "close_new_points": True,
        "anchors_span_full_range": False
    }
</code></pre>
<h3 id="8-3-环Annulus"><a href="#8-3-环Annulus" class="headerlink" title="8.3 环Annulus"></a>8.3 环Annulus</h3><p>继承自圆形</p>
<pre class=" language-lang-python"><code class="language-lang-python">CONFIG = {
        "inner_radius": 1,
        "outer_radius": 2,
        "fill_opacity": 1,
        "stroke_width": 0,
        "color": WHITE,
        "mark_paths_closed": False,
    }
</code></pre>
<h3 id="8-4-长方形Rectangle"><a href="#8-4-长方形Rectangle" class="headerlink" title="8.4 长方形Rectangle"></a>8.4 长方形Rectangle</h3><pre class=" language-lang-python"><code class="language-lang-python">CONFIG = {
        "color": WHITE,
        "height": 2.0,
        "width": 4.0,
        "mark_paths_closed": True,
        "close_new_points": True,
    }
</code></pre>
<h3 id="8-5-方形Square"><a href="#8-5-方形Square" class="headerlink" title="8.5 方形Square"></a>8.5 方形Square</h3><p>继承自长方形</p>
<pre class=" language-lang-python"><code class="language-lang-python"> CONFIG = {
         # 边长
        "side_length": 2.0,
    }
</code></pre>
<h3 id="8-6-椭圆Ellipse"><a href="#8-6-椭圆Ellipse" class="headerlink" title="8.6 椭圆Ellipse"></a>8.6 椭圆Ellipse</h3><p>继承自圆形</p>
<pre class=" language-lang-python"><code class="language-lang-python">CONFIG = {
        "width": 2,
        "height": 1
    }
</code></pre>
<h3 id="8-7-弧Arc"><a href="#8-7-弧Arc" class="headerlink" title="8.7 弧Arc"></a>8.7 弧Arc</h3><pre class=" language-lang-python"><code class="language-lang-python">CONFIG = {
        "radius": 1.0,
        "num_components": 9,
        "anchors_span_full_range": True,
        "arc_center": ORIGIN,
    }
</code></pre>
<h3 id="8-8-线Line"><a href="#8-8-线Line" class="headerlink" title="8.8 线Line"></a>8.8 线Line</h3><p><strong>Line(start=LEFT, end=RIGHT, **kwargs)</strong></p>
<p>start,end:起点终点，形式是np向量</p>
<p>kwargs为配置信息，继承自VMobject</p>
<pre class=" language-lang-python"><code class="language-lang-python">CONFIG = {
        "fill_color": None,
        "fill_opacity": 0.0,
        "stroke_color": None,
        "stroke_opacity": 1.0,
        "stroke_width": DEFAULT_STROKE_WIDTH,
        # The purpose of background stroke is to have
        # something that won't overlap the fill, e.g.
        # For text against some textured background
        "background_stroke_color": BLACK,
        "background_stroke_opacity": 1.0,
        "background_stroke_width": 0,
        # When a color c is set, there will be a second color
        # computed based on interpolating c to WHITE by with
        # sheen_factor, and the display will gradient to this
        # secondary color in the direction of sheen_direction.
        "sheen_factor": 0.0,
        "sheen_direction": UL,
        # Indicates that it will not be displayed, but
        # that it should count in parent mobject's path
        "close_new_points": False,
        "pre_function_handle_to_anchor_scale_factor": 0.01,
        "make_smooth_after_applying_functions": False,
        "background_image_file": None,
        "shade_in_3d": False,
        # This is within a pixel
        # TODO, do we care about accounting for
        # varying zoom levels?
        "tolerance_for_point_equality": 1e-6,
        "n_points_per_cubic_curve": 4,
    }
</code></pre>
<h2 id="9-三维图形类"><a href="#9-三维图形类" class="headerlink" title="9. 三维图形类"></a>9. 三维图形类</h2><p><strong><em>\manimlib\mobject\three_dimensions.py</em></strong></p>
<h3 id="9-1-球-Sphere"><a href="#9-1-球-Sphere" class="headerlink" title="9.1 球 Sphere"></a>9.1 球 Sphere</h3><p>继承自ParametricSurface,实现通过绘制三维多边形曲面实现的，具体看源码</p>
<pre class=" language-lang-python"><code class="language-lang-python">CONFIG = {
        "resolution": (12, 24),
        "radius": 1,
        "u_min": 0.001,
        "u_max": PI - 0.001,
        "v_min": 0,
        "v_max": TAU,
    }
</code></pre>
<h3 id="9-2-立方-Cube"><a href="#9-2-立方-Cube" class="headerlink" title="9.2 立方 Cube"></a>9.2 立方 Cube</h3><pre class=" language-lang-python"><code class="language-lang-python">CONFIG = {
        "fill_opacity": 0.75,
        "fill_color": BLUE,
        "stroke_width": 0,
        "side_length": 2,
    }
</code></pre>
<h3 id="9-3-棱柱Prism"><a href="#9-3-棱柱Prism" class="headerlink" title="9.3 棱柱Prism"></a>9.3 棱柱Prism</h3><p>继承自cube</p>
<pre class=" language-lang-python"><code class="language-lang-python">CONFIG = {
        "dimensions": [3, 2, 1]
    }
</code></pre>
<h3 id="9-4-参数曲面-ParametricSurface"><a href="#9-4-参数曲面-ParametricSurface" class="headerlink" title="9.4 参数曲面 ParametricSurface"></a>9.4 参数曲面 ParametricSurface</h3><p>参数方程表达的曲面</p>
<p><strong>ParametricSurface(func, **kwargs)</strong></p>
<pre class=" language-lang-python"><code class="language-lang-python"> CONFIG = {
        "u_min": 0,
        "u_max": 1,
        "v_min": 0,
        "v_max": 1,
        "resolution": 32,
        "surface_piece_config": {},
        "fill_color": BLUE_D,
        "fill_opacity": 1.0,
        "checkerboard_colors": [BLUE_D, BLUE_E],
        "stroke_color": LIGHT_GREY,
        "stroke_width": 0.5,
        "should_make_jagged": False,
        "pre_function_handle_to_anchor_scale_factor": 0.00001,
    }
</code></pre>
<p>func:自定义的方程，此方程传入两个参数，返回三维向量，每一个分量均是传入两个自变量的表达式</p>
<p>如：</p>
<pre class=" language-lang-python"><code class="language-lang-python">def func(x, y):
    return np.array([x**2,y+2,x**2 - y**2])
</code></pre>
<p>绘制三维曲面的例子：</p>
<pre class=" language-lang-python"><code class="language-lang-python">class SurfacesAnimation(ThreeDScene):
    def construct(self):
        axes = ThreeDAxes()
        cylinder = ParametricSurface(
            lambda u, v: np.array([
                np.cos(TAU * v),
                np.sin(TAU * v),
                2 * (1 - u)
            ]),
            resolution=(6, 32)).fade(0.5) #Resolution of the surfaces

        paraboloid = ParametricSurface(
            lambda u, v: np.array([
                np.cos(v)*u,
                np.sin(v)*u,
                u**2
            ]),v_max=TAU,
            checkerboard_colors=[PURPLE_D, PURPLE_E],
            resolution=(10, 32)).scale(2)

        para_hyp = ParametricSurface(
            lambda u, v: np.array([
                u,
                v,
                u**2-v**2
            ]),v_min=-2,v_max=2,u_min=-2,u_max=2,checkerboard_colors=[BLUE_D, BLUE_E],
            resolution=(15, 32)).scale(1)

        cone = ParametricSurface(
            lambda u, v: np.array([
                u*np.cos(v),
                u*np.sin(v),
                u
            ]),v_min=0,v_max=TAU,u_min=-2,u_max=2,checkerboard_colors=[GREEN_D, GREEN_E],
            resolution=(15, 32)).scale(1)

        hip_one_side = ParametricSurface(
            lambda u, v: np.array([
                np.cosh(u)*np.cos(v),
                np.cosh(u)*np.sin(v),
                np.sinh(u)
            ]),v_min=0,v_max=TAU,u_min=-2,u_max=2,checkerboard_colors=[YELLOW_D, YELLOW_E],
            resolution=(15, 32))

        ellipsoid=ParametricSurface(
            lambda u, v: np.array([
                1*np.cos(u)*np.cos(v),
                2*np.cos(u)*np.sin(v),
                0.5*np.sin(u)
            ]),v_min=0,v_max=TAU,u_min=-PI/2,u_max=PI/2,checkerboard_colors=[TEAL_D, TEAL_E],
            resolution=(15, 32)).scale(2)

        sphere = ParametricSurface(
            lambda u, v: np.array([
                1.5*np.cos(u)*np.cos(v),
                1.5*np.cos(u)*np.sin(v),
                1.5*np.sin(u)
            ]),v_min=0,v_max=TAU,u_min=-PI/2,u_max=PI/2,checkerboard_colors=[RED_D, RED_E],
            resolution=(15, 32)).scale(2)


        self.set_camera_orientation(phi=75 * DEGREES)
        self.begin_ambient_camera_rotation(rate=0.2)


        self.add(axes)
        self.play(Write(sphere))
        self.wait()
        self.play(ReplacementTransform(sphere,ellipsoid))
        self.wait()
        self.play(ReplacementTransform(ellipsoid,cone))
        self.wait()
        self.play(ReplacementTransform(cone,hip_one_side))
        self.wait()
        self.play(ReplacementTransform(hip_one_side,para_hyp))
        self.wait()
        self.play(ReplacementTransform(para_hyp,paraboloid))
        self.wait()
        self.play(ReplacementTransform(paraboloid,cylinder))
        self.wait()
        self.play(FadeOut(cylinder))
</code></pre>
<h3 id="9-5-参数曲线-ParametricFunction"><a href="#9-5-参数曲线-ParametricFunction" class="headerlink" title="9.5 参数曲线 ParametricFunction"></a>9.5 参数曲线 ParametricFunction</h3><p><strong>ParametricSurface(func, **kwargs)</strong></p>
<p>func:自定义的方程，此方程传入一个参数，返回三维向量，每一个分量均是传入自变量的表达式</p>
<pre class=" language-lang-python"><code class="language-lang-python">CONFIG = {
        "t_min": 0,
        "t_max": 1,
        "step_size": 0.01,  # Use "auto" (lowercase) for automatic step size
        "dt": 1e-8,
        # TODO, be smarter about figuring these out?
        "discontinuities": [],
    }
</code></pre>
<p>例：</p>
<pre class=" language-lang-python"><code class="language-lang-python">class ParametricCurve2(ThreeDScene):
    def construct(self):
        curve1=ParametricFunction(
                lambda u : np.array([
                1.2*np.cos(u),
                1.2*np.sin(u),
                u/2
            ]),color=RED,t_min=-TAU,t_max=TAU,
            )
        curve2=ParametricFunction(
                lambda u : np.array([
                1.2*np.cos(u),
                1.2*np.sin(u),
                u
            ]),color=RED,t_min=-TAU,t_max=TAU,
            )

        curve1.set_shade_in_3d(True)
        curve2.set_shade_in_3d(True)

        axes = ThreeDAxes()

        self.add(axes)

        self.set_camera_orientation(phi=80 * DEGREES,theta=-60*DEGREES)
        self.begin_ambient_camera_rotation(rate=0.1) 
        self.play(ShowCreation(curve1))
        self.wait()
        self.play(Transform(curve1,curve2),rate_func=there_and_back,run_time=3)
        self.wait()
</code></pre>
<h2 id="10-群组类VGroup"><a href="#10-群组类VGroup" class="headerlink" title="10. 群组类VGroup"></a>10. 群组类VGroup</h2><p>可以将多个图像合并为一个组进行批量同步操作(自我理解为Vector Group的缩写)</p>
<p><strong>someObjectGroup = VGroup(someObject1,someObject2,…)</strong></p>
<h3 id="10-1-arrange"><a href="#10-1-arrange" class="headerlink" title="10.1 arrange()"></a>10.1 arrange()</h3><p><strong>someObjectGroup.arrange(DIRECTION,aligned_edge = DIRECTION,buff=number)</strong></p>
<p><strong>DIRECTION：</strong>以someObject1,someObject2,…顺序按照此方向排列</p>
<p><strong>aligned_edge：</strong>对齐</p>
<p><strong>buff：</strong>成员之间的距离</p>
<p>例：</p>
<pre class=" language-lang-python"><code class="language-lang-python">class ArrangeObjects(Scene):
    def construct(self):
        text1 = TextMobject("text1")
        text2 = TextMobject("text2 text2")
        text3 = TextMobject("text3 text3 text3")
        textgroup = VGroup(text1,text2,text3)
        textgroup.arrange(
            UP,
            aligned_edge = LEFT,
            buff=0.4
        )
        self.add(textgroup)
        self.wait()
</code></pre>
<p><img src="1565844643807.png" alt="1565844643807"></p>
<p>动画效果：</p>
<p>因为arrange第一个参数不在config里面，需要单独放在外面</p>
<pre class=" language-lang-python"><code class="language-lang-python">self.play(
            text_group.arrange,
            UP,
            {"aligned_edge":RIGHT,"buff":2}
        )
</code></pre>
<h2 id="11-相机参数"><a href="#11-相机参数" class="headerlink" title="11. 相机参数"></a>11. 相机参数</h2><p>相机是针对3D动画类(<strong>ThreeDScene</strong>)的方法</p>
<p><strong>\manimlib\scene\three_d_scene.py</strong></p>
<p>将视频的视窗看做相机，就可以通过调整相机的远近，角度来观察三维物体，这就是相机类的作用</p>
<h3 id="11-1-set-camera-orientation"><a href="#11-1-set-camera-orientation" class="headerlink" title="11.1 set_camera_orientation"></a>11.1 set_camera_orientation</h3><p><strong>threeDScene.set_camera_orientation(phi=degrees1,theta=degrees2,gamma=degrees3,distance=number)</strong></p>
<p>设置相机的角度</p>
<h3 id="11-2-move-camera"><a href="#11-2-move-camera" class="headerlink" title="11.2 move_camera"></a>11.2 move_camera</h3><p><strong>threeDScene.move_camera(phi=None,theta=None, distance=None, gamma=None, frame_center=None,added_anims=[],**kwargs)</strong></p>
<p>例子：</p>
<pre class=" language-lang-python"><code class="language-lang-python">class MoveCamera2(ThreeDScene):
    def construct(self):
        axes = ThreeDAxes()
        circle=Circle()
        self.set_camera_orientation(phi=80 * DEGREES)           
        self.play(ShowCreation(circle),ShowCreation(axes))
        #Start move camera
        self.begin_ambient_camera_rotation(rate=0.1)            
        self.wait(5)
        #Stop move camera
        self.stop_ambient_camera_rotation()                     
        #Return the position of the camera
        self.move_camera(phi=80*DEGREES,theta=-PI/2)            
        self.wait()
</code></pre>
<h3 id="11-3-set-to-default-angled-camera-orientation"><a href="#11-3-set-to-default-angled-camera-orientation" class="headerlink" title="11.3 set_to_default_angled_camera_orientation"></a>11.3 set_to_default_angled_camera_orientation</h3><p>还原为默认角度</p>
<h3 id="11-4-add-fixed-in-frame-mobjects"><a href="#11-4-add-fixed-in-frame-mobjects" class="headerlink" title="11.4 add_fixed_in_frame_mobjects"></a>11.4 add_fixed_in_frame_mobjects</h3><p>加入固定在屏幕的图像，此图像不随相机变化而变化</p>
<p><strong>add_fixed_in_frame_mobjects(*mobjects)</strong></p>
<p>例：</p>
<pre class=" language-lang-python"><code class="language-lang-python">class Text3D3(ThreeDScene):
    def construct(self):
        axes = ThreeDAxes()
        self.set_camera_orientation(phi=75 * DEGREES,theta=-45*DEGREES)
        text3d=TextMobject("This is a 3D text")

        self.add_fixed_in_frame_mobjects(text3d) #<----- Add this
        text3d.to_corner(UL)

        self.add(axes)
        self.begin_ambient_camera_rotation()
        self.play(Write(text3d))

        sphere = ParametricSurface(
            lambda u, v: np.array([
                1.5*np.cos(u)*np.cos(v),
                1.5*np.cos(u)*np.sin(v),
                1.5*np.sin(u)
            ]),v_min=0,v_max=TAU,u_min=-PI/2,u_max=PI/2,checkerboard_colors=[RED_D, RED_E],
            resolution=(15, 32)).scale(2)

        self.play(LaggedStart(ShowCreation,sphere))
        self.wait(2)
</code></pre>
<h2 id="12-坐标系类"><a href="#12-坐标系类" class="headerlink" title="12. 坐标系类"></a>12. 坐标系类</h2><h3 id="12-0-数轴类-NumberLine"><a href="#12-0-数轴类-NumberLine" class="headerlink" title="12.0 数轴类 NumberLine"></a>12.0 数轴类 NumberLine</h3><p>继承于Line,属性如下：</p>
<pre class=" language-lang-python"><code class="language-lang-python">CONFIG = {
        "color": LIGHT_GREY,
        # X的范围
        "x_min": -FRAME_X_RADIUS,
        "x_max": FRAME_X_RADIUS,
        # 单元格的大小，默认和单位长度一致
        "unit_size": 1,
        # 是否包含刻度tick
        "include_ticks": True,
        # tick的尺寸，大小为：2个单位*tick_size
        "tick_size": 0.1,
        # tick的分布密度
        "tick_frequency": 1,
        # Defaults to value near x_min s.t. 0 is a tick
        # TODO, rename this
        "leftmost_tick": None,
        # Change name
        # 最长的tick,作者原意应该是作为数轴标识的tick,一般为中间的tick即原点，会画长一点
        "numbers_with_elongated_ticks": [0],
        # 标上数字
        "include_numbers": False,
        # 显示的数字格式
        "numbers_to_show": None,
        "longer_tick_multiple": 2,
        # 中间的数字
        "number_at_center": 0,
        "number_scale_val": 0.75,
        "label_direction": DOWN,
        "line_to_number_buff": MED_SMALL_BUFF,
        # 包含箭头
        "include_tip": False,
        # tip:箭头，下面两个是其尺寸设置
        "tip_width": 0.25,
        "tip_height": 0.25,
        "decimal_number_config": {
            "num_decimal_places": 0,
        },
        # 从数字标记中去掉0这个标记
        "exclude_zero_from_default_numbers": False,
    }
</code></pre>
<p>注意其中x_min，x_max均为帧的左右范围即每帧的最左边和最右边</p>
<p><img src="1567675075732.png" alt="1567675075732"></p>
<p>本质上来说，数轴是一条线（Line），每一个间隔（tick）均为小的线(Line)</p>
<p>整个构建流程是，先画出横线作为坐标轴，然后从左到右画出一个个小竖线，最后增加数字，箭头等小部件</p>
<h3 id="12-1-坐标系抽象类-CoordinateSystem"><a href="#12-1-坐标系抽象类-CoordinateSystem" class="headerlink" title="12.1 坐标系抽象类 CoordinateSystem"></a>12.1 坐标系抽象类 CoordinateSystem</h3><pre class=" language-lang-python"><code class="language-lang-python">CONFIG = {
        "dimension": 2,
        "x_min": -FRAME_X_RADIUS,
        "x_max": FRAME_X_RADIUS,
        "y_min": -FRAME_Y_RADIUS,
        "y_max": FRAME_Y_RADIUS,
    }
</code></pre>
<p>主要的几个抽象方法：</p>
<p><strong>coords指的是坐标轴中的点的值,point指没有坐标轴时真实的坐标，在创建坐标轴时候中心设置在ORIGIN，坐标大小没有缩放的时候两者是一样的</strong></p>
<ul>
<li><p>coords_to_point(*coords)；c2p(*coords):将坐标系中的点的坐标值转换为屏幕上的点</p>
</li>
<li><p>point_to_coords(point)；p2c(point)：coords_to_point逆方法</p>
</li>
<li><p>get_axes():得到CoordinateSystem对象，一般为包含x,y,z坐标的数组</p>
</li>
<li><p>get_axis(index):得到index对应的坐标，xyz坐标对应的index分别为1，2，3</p>
</li>
<li><p>get_x_axis();get_y_axis();get_z_axis()</p>
</li>
<li><p>get_axis_label一类：给对应的坐标（轴）添加标签，显示标签，并返回标签对象</p>
<ul>
<li>get_axis_label(label_tex, axis, edge, direction, buff=MED_SMALL_BUFF):</li>
<li><p>get_axis_labels(x_label_tex=”x”, y_label_tex=”y”)：</p>
</li>
<li><p>get_x_axis_label(label_tex, edge=RIGHT, direction=DL, **kwargs)：</p>
</li>
<li><p>get_y_axis_label(label_tex, edge=UP, direction=DR, **kwargs):</p>
</li>
</ul>
<p>label_tex:坐标标签，使用latex字符串(TexMobject)</p>
<p>axis:想获取的坐标标签的对应的坐标对象</p>
<p>edge:四个边缘位置</p>
<p>direction：在坐标轴的相对位置</p>
<p>**kwargs:其他在config内的配置，如颜色等，自行修改</p>
</li>
</ul>
<p>get_graph(function, **kwargs):给定方程，绘制图像并返回</p>
<p>get_parametric_curve(function, **kwargs):绘制给定参数曲线方程并返回</p>
<p>input_to_graph_point(x, graph):暂时没搞清楚啥玩意</p>
<h3 id="12-2-二维坐标类-Axes"><a href="#12-2-二维坐标类-Axes" class="headerlink" title="12.2 二维坐标类 Axes"></a>12.2 二维坐标类 Axes</h3><p>继承CoordinateSystem</p>
<p>实质是创造两个NumberLine数轴，然后将其中一个按照中心旋转90度，作为Y轴，然后对X，Y轴进行其他的属性进行调整，所以配置里面有”number_line_config”</p>
<p><strong>Axes(**kwargs)</strong></p>
<pre class=" language-lang-python"><code class="language-lang-python">CONFIG = {
        # 数轴的配置
        "number_line_config": {
            "color": LIGHT_GREY,
            "include_tip": True,
            "exclude_zero_from_default_numbers": True,
        },
        # 横坐标轴和数轴的默认配置一样不需要修改
        "x_axis_config": {},
        "y_axis_config": {
            # 默认将“y”这个标签放在纵坐标轴的左侧
            "label_direction": LEFT,
        },
        # 原点默认和帧图的中心点一致
        "center_point": ORIGIN,
    }
</code></pre>
<p>实现了：</p>
<ol>
<li><p>coords_to_point(*coords)；c2p(*coords):将坐标系中的点的坐标值转换为屏幕（帧图）上的点</p>
<p>分析一下源码：</p>
</li>
</ol>
<pre class=" language-lang-python"><code class="language-lang-python">def coords_to_point(self, *coords):
        # 将坐标轴中的原点0换算为对应的帧图中的坐标
        origin = self.x_axis.number_to_point(0)
        # 将帧图坐标转换为向量
        result = np.array(origin)
        # result = 原点对应的帧图的坐标+coord相对帧图中原点的坐标 = coord在帧图中的实际坐标
        for axis, coord in zip(self.get_axes(), coords):
            result += (axis.number_to_point(coord) - origin)
        return result
</code></pre>
<ol>
<li>point_to_coords(point)；p2c(point)</li>
</ol>
<p>增加了方法：</p>
<p>get_coordinate_labels(x_vals=None, y_vals=None)：传入x,y标签的latex字符串，得到对应的x,y坐标轴的标签的对象</p>
<p>add_coordinates(x_vals=None, y_vals=None):和get_coordinate_labels相似，但是将其加入了自己的成员变量并返回了自己</p>
<h3 id="12-3-三维坐标系类-ThreeDAxes"><a href="#12-3-三维坐标系类-ThreeDAxes" class="headerlink" title="12.3 三维坐标系类 ThreeDAxes"></a>12.3 三维坐标系类 ThreeDAxes</h3><p>继承自Axes</p>
<p><strong>ThreeDAxes(**kwargs)</strong></p>
<pre class=" language-lang-python"><code class="language-lang-python">CONFIG = {
        "dimension": 3,
        "x_min": -5.5,
        "x_max": 5.5,
        "y_min": -5.5,
        "y_max": 5.5,
        "z_axis_config": {},
        "z_min": -3.5,
        "z_max": 3.5,
        "z_normal": DOWN,
        "num_axis_pieces": 20,
        "light_source": 9 * DOWN + 7 * LEFT + 10 * OUT,
    }
</code></pre>
<h3 id="12-4-NumberPlane"><a href="#12-4-NumberPlane" class="headerlink" title="12.4 NumberPlane"></a>12.4 NumberPlane</h3><h3 id="12-5-ComplexPlane"><a href="#12-5-ComplexPlane" class="headerlink" title="12.5  ComplexPlane"></a>12.5  ComplexPlane</h3><p>复数坐标系，继承于NumberPlane</p>
<pre class=" language-lang-python"><code class="language-lang-python"># author:TB
class ComplexPlaneScene(Scene):
    def construct(self):
        # See manimlib/mobject/number_line.py and coordinate_systems.py
        cp = ComplexPlane(
                        y_axis_config={"decimal_number_config":{"unit": "i"}},
                        number_line_config={"include_numbers":True}
                        )

        x_axis = cp[-2]
        y_axis = cp[-1]
        x_axis.set_color(RED)
        y_axis.set_color(PURPLE)

        x_labels = x_axis[1]
        x_labels.set_color(ORANGE)

        y_labels = y_axis[1]
        y_labels.set_color(YELLOW)
        for y in y_labels:
            y.rotate(-PI/2)

        x_label = TexMobject("x")
        x_label.move_to(cp.c2p(6.8,x_label.get_height()))
        y_label = TexMobject("y")
        y_label.move_to(cp.c2p(-y_label.get_width(),3.8))

        self.add(cp,x_label,y_label)

        self.wait()
</code></pre>
<h2 id="附录A：常见的常数"><a href="#附录A：常见的常数" class="headerlink" title="附录A：常见的常数"></a>附录A：常见的常数</h2><p><strong><em>\manimlib\constants.py</em></strong></p>
<h3 id="1-颜色"><a href="#1-颜色" class="headerlink" title="1. 颜色"></a>1. 颜色</h3><p>见constants.py中<strong>COLOR_MAP</strong>中的列表</p>
<h3 id="2-方向"><a href="#2-方向" class="headerlink" title="2. 方向"></a>2. 方向</h3><pre class=" language-lang-python"><code class="language-lang-python">ORIGIN = np.array((0., 0., 0.))
UP = np.array((0., 1., 0.))
DOWN = np.array((0., -1., 0.))
RIGHT = np.array((1., 0., 0.))
LEFT = np.array((-1., 0., 0.))
IN = np.array((0., 0., -1.))
OUT = np.array((0., 0., 1.))
X_AXIS = np.array((1., 0., 0.))
Y_AXIS = np.array((0., 1., 0.))
Z_AXIS = np.array((0., 0., 1.))

# Useful abbreviations for diagonals
UL = UP + LEFT
UR = UP + RIGHT
DL = DOWN + LEFT
DR = DOWN + RIGHT

TOP = FRAME_Y_RADIUS * UP
BOTTOM = FRAME_Y_RADIUS * DOWN
LEFT_SIDE = FRAME_X_RADIUS * LEFT
RIGHT_SIDE = FRAME_X_RADIUS * RIGHT
</code></pre>
<h3 id="3-角度"><a href="#3-角度" class="headerlink" title="3. 角度"></a>3. 角度</h3><pre class=" language-lang-python"><code class="language-lang-python">PI = np.pi
TAU = 2 * PI
DEGREES = TAU / 360
</code></pre>
<h3 id="4-距离"><a href="#4-距离" class="headerlink" title="4. 距离"></a>4. 距离</h3><pre class=" language-lang-python"><code class="language-lang-python">SMALL_BUFF = 0.1
MED_SMALL_BUFF = 0.25
MED_LARGE_BUFF = 0.5
LARGE_BUFF = 1

DEFAULT_MOBJECT_TO_EDGE_BUFFER = MED_LARGE_BUFF
DEFAULT_MOBJECT_TO_MOBJECT_BUFFER = MED_SMALL_BUFF
</code></pre>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">cai</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://yoursite.com/2020/03/26/manimtutorial/">http://yoursite.com/2020/03/26/manimtutorial/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">cai</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E6%95%99%E7%A8%8B/">
                                    <span class="chip bg-color">教程</span>
                                </a>
                            
                                <a href="/tags/manim/">
                                    <span class="chip bg-color">manim</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.png" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    
        <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: '567ab5f0da87cd87c36c',
        clientSecret: '6c660baacd461151d3b40ea2aa7c24e6b7dd8b3a',
        repo: 'cai-hust.github.io',
        owner: 'cai-hust',
        admin: "cai-hust",
        id: '2020-03-26T18-08-36',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/03/26/ji-suan-ji-si-ji-wang-luo-ji-zhu/">
                    <div class="card-image">
                        
                        <img src="/images/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C-cover.jpg" class="responsive-img" alt="计算机四级网络技术">
                        
                        <span class="card-title">计算机四级网络技术</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            本人2019年以成绩为"良"考完计算机四级,在此分享我的计算机网络笔记(操作系统因为学校课内学习过所以没有记笔记)
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-03-26
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" class="post-category">
                                    计算机网络
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">
                        <span class="chip bg-color">计算机网络</span>
                    </a>
                    
                    <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%9B%E7%BA%A7/">
                        <span class="chip bg-color">计算机四级</span>
                    </a>
                    
                    <a href="/tags/%E7%9F%A5%E8%AF%86%E7%82%B9%E6%95%B4%E7%90%86/">
                        <span class="chip bg-color">知识点整理</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/03/26/hello-world/">
                    <div class="card-image">
                        
                        <img src="/images/hello-world.jpg" class="responsive-img" alt="Hello World">
                        
                        <span class="card-title">Hello World</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            大家好,这个是我的个人博客第一次部署博客可能有点生疏,而且这个博客仅仅是我武汉疫情期间的无聊消遣的时候搭建的如果做的不好大家就谅解一下吧
以下是博客功能的测试:
视频播放: 
     
      
 






嵌入数学公式的书写 欧
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-03-26
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            cai
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('60')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: cai<br />'
            + '文章作者: cai<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>



    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2019</span>
            <a href="/about" target="_blank">cai</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">47.9k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/cai-hust" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>















    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
