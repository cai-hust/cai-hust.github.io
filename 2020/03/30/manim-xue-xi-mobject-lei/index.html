<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/logo.ico">
  <link rel="icon" type="image/png" href="/img/logo.ico">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="cai">
  <meta name="keywords" content="">
  <title>manim学习--Mobject类(一) - cai</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github-gist.min.css" />
  

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/gitalk/1.6.2/gitalk.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_yg9cfy8wd6.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script  src="/js/utils.js" ></script>
<meta name="generator" content="Hexo 4.2.1"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>CodingCai</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/images/manim-cover.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2020-03-30 23:39">
      2020年3月30日 晚上
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      4.7k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      68
       分钟
    </span>
  

  
  
    
      <!-- 不蒜子统计文章PV -->
      <span id="busuanzi_container_page_pv" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="busuanzi_value_page_pv"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
              <p class="note note-info">
                
                  本文最后更新于：2020年7月28日 凌晨
                
              </p>
            
            <article class="markdown-body">
              <h2 id="1-Mobject所派生的子类"><a href="#1-Mobject所派生的子类" class="headerlink" title="1. Mobject所派生的子类"></a>1. Mobject所派生的子类</h2><p><img src="Mobject-1586013786368.png" srcset="/img/loading.gif" alt="Mobject"></p>
<h2 id="2-Mobject的主要变量与属性"><a href="#2-Mobject的主要变量与属性" class="headerlink" title="2. Mobject的主要变量与属性"></a>2. Mobject的主要变量与属性</h2><h3 id="2-1-CONFIG"><a href="#2-1-CONFIG" class="headerlink" title="2.1 CONFIG"></a>2.1 CONFIG</h3><pre><code class="hljs python">CONFIG = {
        <span class="hljs-string">"color"</span>: WHITE,
        <span class="hljs-string">"name"</span>: <span class="hljs-literal">None</span>,
        <span class="hljs-string">"dim"</span>: <span class="hljs-number">3</span>,
        <span class="hljs-string">"target"</span>: <span class="hljs-literal">None</span>,
    }</code></pre>
<h3 id="2-2-init-函数"><a href="#2-2-init-函数" class="headerlink" title="2.2 __init__()函数:"></a>2.2 <code>__init__()</code>函数:</h3><ul>
<li><p><code>submobjects = []</code>:每个Mobject都有自己的submobjects列表,列表里面的每个元素也是Mobject,这样有利于对嵌套的Mobject进行整体操作,如对一群图形一起平移等等动画的实现</p>
</li>
<li><p><code>updaters = []</code>:一系列的更新函数组成,如:</p>
<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_text</span><span class="hljs-params">(obj)</span>:</span>
           obj.next_to(dot,RIGHT,buff=SMALL_BUFF)</code></pre>
<p>就可以作为一个updater,有<code>add_updater()</code>方法进行添加:</p>
<pre><code class="hljs python"><span class="hljs-comment"># author:TB,由于3b1b的函数有改进,本代码进行了修改</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AddUpdater</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        dot = Dot()
        text = TextMobject(<span class="hljs-string">"Label"</span>).next_to(dot,RIGHT,buff=SMALL_BUFF)

        self.add(dot,text)

        <span class="hljs-comment"># Update function 更新函数</span>
        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_text</span><span class="hljs-params">(obj)</span>:</span>
            obj.next_to(dot,RIGHT,buff=SMALL_BUFF)

        <span class="hljs-comment"># Add update function to the objects</span>
        <span class="hljs-comment"># 把更新函数加给对象</span>
        text.add_updater(update_text)
        
        <span class="hljs-comment"># 如果想简洁，lambda表达式如下：</span>
        <span class="hljs-comment"># text.add_updater(lambda m: m.next_to(dot,RIGHT,buff=SMALL_BUFF))</span>
        <span class="hljs-comment"># 此时下面的remove_updater(update_text)不能继续使用，需要改为clear_updaters</span>
        
        self.play(dot.shift,UP*<span class="hljs-number">2</span>)
        <span class="hljs-comment"># Remove update function</span>
        text.remove_updater(update_text)

        self.wait()</code></pre>
<p>效果如下:</p>
<p><img src="AddUpdater-1586013786369.gif" srcset="/img/loading.gif" alt="AddUpdater"></p>
<p>详细见下面3.3.2的介绍</p>
</li>
<li><p><code>updating_suspended = False</code>:是否暂停更新</p>
</li>
<li><p><code>points = np.zeros((0, self.dim))</code>:坐标,默认为原点,维度由属性<code>dim</code>决定</p>
</li>
</ul>
<h3 id="2-3-其他函数里面产生的变量"><a href="#2-3-其他函数里面产生的变量" class="headerlink" title="2.3 其他函数里面产生的变量"></a>2.3 其他函数里面产生的变量</h3><ul>
<li><code>saved_state</code>:自己的一份备份,可以用来恢复之前的状态</li>
<li><code>array_attr</code>:初始为<code>["points"]</code>列表</li>
<li><code>z_index_group</code>:暂时不知道有什么用</li>
</ul>
<h3 id="2-4-Mobject的一些抽象概念"><a href="#2-4-Mobject的一些抽象概念" class="headerlink" title="2.4 Mobject的一些抽象概念"></a>2.4 Mobject的一些抽象概念</h3><ul>
<li><p>family:如果将Mobject看作父节点,submobjects列表中的Mobject看作子节点,则对每个Mobjects都会产生一棵树,这个树里面的所有节点成为这个Mobject的family</p>
<p>family没有真正的实体,但是Mobject内有一个函数叫<code>get_family()</code>可以返回这个概念:</p>
<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_family</span><span class="hljs-params">(self)</span>:</span>
    	<span class="hljs-comment"># 如果对map函数不理解,请自行查找Python map()函数</span>
        <span class="hljs-comment"># 递归得到submobjects,代码非常简洁</span>
        sub_families = list(map(Mobject.get_family, self.submobjects))
        <span class="hljs-comment"># 使用chain的原因是可能每个submobject可能是不同的类型</span>
        all_mobjects = [self] + list(it.chain(*sub_families))
        <span class="hljs-comment"># 去重</span>
        <span class="hljs-keyword">return</span> remove_list_redundancies(all_mobjects)</code></pre>
<p>Mobject的很多函数也用到了这个概念</p>
</li>
</ul>
<h3 id="2-5-Mobject的属性"><a href="#2-5-Mobject的属性" class="headerlink" title="2.5 Mobject的属性"></a>2.5 Mobject的属性</h3><ol>
<li><p>自身可迭代</p>
<p>假如有Mobject变量mob,则mob[0]是self本身,mob[1]以及更大的索引是subMobject</p>
</li>
<li><p>自身有长度</p>
<p>自身长度为submobject列表长度+1</p>
</li>
</ol>
<h2 id="3-Mobject的主要方法"><a href="#3-Mobject的主要方法" class="headerlink" title="3. Mobject的主要方法"></a>3. Mobject的主要方法</h2><h3 id="3-1-属性的处理"><a href="#3-1-属性的处理" class="headerlink" title="3.1 属性的处理"></a>3.1 属性的处理</h3><ol>
<li><p><code>reset_points()</code></p>
<p>self.points = np.zeros((0, self.dim))</p>
</li>
<li><p><code>add(*mobjects)</code></p>
<p>将自己的submobjects列表中加入mobjects</p>
<p><strong>注意:不能加入自己</strong></p>
</li>
<li><p><code>add_to_back(*mobjects)</code></p>
<p>将自己的submobjects列表末尾加入mobjects</p>
<p><strong>注意:如果加入的mobjects中有的在自己的列表中已经存在,则按照加入的mobjects顺序存放</strong></p>
</li>
<li><p><code>remove(*mobjects)</code></p>
<p>submobjects列表移除对应的mobjects</p>
<p><strong>注意:如果mobjects某些元素不在submobjects列表则不会有任何反应</strong></p>
</li>
<li></li>
</ol>
<h3 id="3-2-图像静态显示"><a href="#3-2-图像静态显示" class="headerlink" title="3.2 图像静态显示"></a>3.2 图像静态显示</h3><ol>
<li><p><code>get_image(camera=None)</code></p>
<p>根据传入的camera类对应的参数(如角度,距离等等)返回一个图像(以PIL.Image的格式)</p>
<p><strong>注意:应该用不到这个(如果不是自己开发代码)</strong></p>
</li>
<li><p><code>show(camera=None)</code></p>
<p>无动画根据传入的camera类对应的参数(如角度,距离等等)显示自己</p>
</li>
<li><p><code>save_image(name=None)</code></p>
<p>将自己图像保存到宏定义<code>VIDEO_DIR</code>位置,名字为<code>name</code>如果未传入名字,则默认名字为自己的str方法得到的数值</p>
</li>
<li><p><code>deepcopy()</code></p>
</li>
</ol>
<p>返回一个自己的副本,副本的改变与不会影响到自己</p>
<ol>
<li><code>copy()</code></li>
</ol>
<p>浅拷贝,与深拷贝对应</p>
<ol>
<li><code>generate_target(use_deepcopy=False)</code></li>
</ol>
<h3 id="3-3-更新-跟踪-函数"><a href="#3-3-更新-跟踪-函数" class="headerlink" title="3.3 更新(跟踪)函数"></a>3.3 更新(跟踪)函数</h3><ol>
<li><p>$ ^{^*}$<code>update(dt=0, recursive=True)</code></p>
<p><em>底层函数,一般制作的时候用不到,但是仍然列举出来以备不时之需</em></p>
<ul>
<li><p>参数含义</p>
<p><code>dt</code>:每帧运动速率是多少</p>
<p><code>recursive</code>:递归进行submobjects列表的Mobject的<code>update</code>函数</p>
</li>
<li><p>执行过程</p>
<p>如果updaters的某一项<code>update_function</code>列表里面有参数<code>dt</code>,则执行update_function(dt),否则执行update_function(),并根据recursive判断是否递归到submobjects列表中的每一项</p>
</li>
</ul>
</li>
<li><p><code>get_updaters()</code>:</p>
<p>得到updaters[]</p>
</li>
<li><p><code>get_family_updaters()</code>:</p>
<p>得到family的所有updaters</p>
</li>
<li><p><code>add_updater(update_function, index=None, call_updater=True)</code></p>
<ul>
<li><p>参数含义</p>
<p><code>update_function</code>:更新函数</p>
<p><code>index</code>:更新函数的索引</p>
<p><code>call_updater</code>:我也不知道这个有啥用(¦3[▓▓],3b1b的代码也没找到一个用过这个参数的</p>
<p><em>TODO:<code>call_updater</code>什么意思,欢迎留言</em></p>
</li>
<li><p>执行过程</p>
<p>将自己的<code>updaters</code>列表加入<code>update_function</code>,位置在<code>index</code>,插入方法同python列表的insert方法,并决定是否立即执行</p>
<p>例子:</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UpdateFunctionWithDt</span><span class="hljs-params">(Scene)</span>:</span>
     <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
         sun = Dot(color=RED).scale(<span class="hljs-number">3</span>)
 
         earthOrbit=Circle(color=WHITE).scale(<span class="hljs-number">2</span>)
         earth=Dot(color=BLUE).scale(<span class="hljs-number">2</span>)
         earth.move_to(earthOrbit.point_from_proportion(<span class="hljs-number">0</span>))
         self.earthOffset=<span class="hljs-number">0</span>
 
         moonOrbit= Circle(color=WHITE).move_to(earth)
         moon =Dot(color=YELLOW)
         moon.move_to(moonOrbit.point_from_proportion(<span class="hljs-number">0</span>))
         self.moonOffset=<span class="hljs-number">0</span>
 
         <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_earth</span><span class="hljs-params">(mob,dt)</span>:</span>
             rate=dt*<span class="hljs-number">0.1</span>
             mob.move_to(earthOrbit.point_from_proportion((self.earthOffset + rate)%<span class="hljs-number">1</span>))
             self.earthOffset += rate
 
         <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_moonOrbit</span><span class="hljs-params">(mob)</span>:</span>
             mob.move_to(earth)
 
         <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_moon</span><span class="hljs-params">(mob,dt)</span>:</span>
             rate=dt*<span class="hljs-number">0.2</span>
             mob.move_to(moonOrbit.point_from_proportion((self.moonOffset + rate)%<span class="hljs-number">1</span>))
             self.moonOffset += rate
 
         earth.add_updater(update_earth)
         moonOrbit.add_updater(update_moonOrbit)
         moon.add_updater(update_moon)
         self.add(earthOrbit,moonOrbit,sun,earth,moon)
         self.wait(<span class="hljs-number">5</span>)
         self.wait()</code></pre>
<p>效果如下:</p>
<p><img src="UpdateFunctionWithDt-1586013786369.gif" srcset="/img/loading.gif" alt="UpdateFunctionWithDt"></p>
<p>dt的决定速度:</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WhatIsDt</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        sun = Dot(color=RED).scale(<span class="hljs-number">3</span>)
        earthOrbit=Circle(color=WHITE).scale(<span class="hljs-number">2</span>)

        earths = [Dot(color=i).scale(<span class="hljs-number">2</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span>[RED,BLUE]]
        earths = VGroup(*earths)
        earths.move_to(earthOrbit.point_from_proportion(<span class="hljs-number">0</span>))
        self.earthOffsets = [<span class="hljs-number">0</span>]*<span class="hljs-number">2</span>
        texts = VGroup(*[Text(<span class="hljs-string">"dt*0.%d"</span>%i,size=<span class="hljs-number">0.5</span>,font=<span class="hljs-string">"Lucida Console"</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]])

        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_earth_factory</span><span class="hljs-params">(index)</span>:</span>
            <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_earth</span><span class="hljs-params">(mob,dt)</span>:</span>
                rate = dt*<span class="hljs-number">0.1</span>*(index+<span class="hljs-number">1</span>)
                mob.move_to(earthOrbit.point_from_proportion((self.earthOffsets[index] + rate)%<span class="hljs-number">1</span>))
                self.earthOffsets[index] += rate
            <span class="hljs-keyword">return</span> update_earth
        
        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_text_factory</span><span class="hljs-params">(index)</span>:</span>
            <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_text</span><span class="hljs-params">(mob)</span>:</span>
                mob.next_to(earths[index],LEFT,SMALL_BUFF)
            <span class="hljs-keyword">return</span> update_text
       
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> [<span class="hljs-number">0</span>,<span class="hljs-number">1</span>]:
            earths[i].add_updater(update_earth_factory(i))
            texts[i].add_updater(update_text_factory(i))
        self.add(earthOrbit,sun,earths,texts)
        self.wait(<span class="hljs-number">5</span>)</code></pre>
<p><img src="WhatIsDt-1586013786370.gif" srcset="/img/loading.gif" alt="WhatIsDt"></p>
</li>
</ul>
</li>
<li><p><code>remove_updater(update_function)</code>:</p>
<p>很明显与<code>add_updater</code>相反</p>
</li>
<li><p><code>clear_updaters(recursive=True)</code>:</p>
<p>清除所有的<code>update_function</code>,如果<code>recursive</code>为<code>True</code>则submobjects列表的所有<code>update_function</code>清除</p>
<p><strong>存疑:<code>recursive</code>为<code>True</code>貌似如果subMobjects里面还套有subMobjects,则内层的不能被清除?</strong></p>
</li>
<li><p><code>match_updaters(mobject)</code>:</p>
<p>将mobject的updater全部复制给自己(自己的原来的updaters失效)</p>
</li>
<li><p><code>suspend_updating(recursive=True)</code>:</p>
<p>略</p>
</li>
<li><p><code>resume_updating(recursive=True)</code></p>
<p>略</p>
</li>
<li><p><code>get_time_based_updaters()</code>:</p>
<p>得到参数含有<code>dt</code>的updater</p>
</li>
<li><p><code>has_time_based_updater()</code>:</p>
<p>有参数含有<code>dt</code>的updater</p>
</li>
</ol>
<h3 id="3-4-变换函数"><a href="#3-4-变换函数" class="headerlink" title="3.4 变换函数"></a>3.4 变换函数</h3><ol>
<li><p><code>apply_to_family(func)</code>:</p>
<p>对每个家庭成员实行func函数</p>
</li>
<li><p><code>shift(*vectors)</code>:</p>
<p>平移,vector的维数为dim,如果输入多个vector则平移的终点为这几个vector的向量和</p>
<p>如<code>.shift(UP*2,LEFT)</code>和<code>shift(UP*2+LEFT)</code>是一个效果</p>
</li>
<li><p><code>scale(scale_factor, **kwargs)</code>:</p>
<ul>
<li><p>参数:</p>
<p><code>scale_factor</code>:缩放因子</p>
<p><code>**kwargs</code>:</p>
<p>默认行为是围绕mobject的中心进行缩放。参数about_edge可以是向量，指要围绕mobject的哪一侧进行缩放,否则，如果给about_point一个值，则相对于该点进行缩放。</p>
<ul>
<li><p><code>about_edge</code>:相对边</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AddUpdater</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        circles = [Circle(arc_center = LEFT*i*<span class="hljs-number">2</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">3</span>)]
        vg = VGroup(*circles)
        line = Line(np.array([<span class="hljs-number">-10</span>,vg.get_top()[<span class="hljs-number">1</span>],<span class="hljs-number">0</span>]),np.array([<span class="hljs-number">10</span>,vg.get_top()[<span class="hljs-number">1</span>],<span class="hljs-number">0</span>]))
        text = TextMobject(<span class="hljs-string">"about\_edge"</span>)
        text.next_to(line,UP,buff=SMALL_BUFF)
        self.add(line,vg,text)
        self.play(vg.scale,<span class="hljs-number">2</span>,{<span class="hljs-string">"about_edge"</span>:UP})
        self.wait()</code></pre>
<p><img src="about_edge-1586013786370.gif" srcset="/img/loading.gif" alt="about_edge"></p>
<p>如果<code>about_edge</code>为方向的线性组合,则会按照对应的边进行阻隔,以UP+RIGHT为例子:</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AddUpdater</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        circles = [Circle(arc_center = LEFT*i*<span class="hljs-number">2</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">3</span>)]
        vg = VGroup(*circles)
        line = Line(np.array([<span class="hljs-number">-10</span>,vg.get_top()[<span class="hljs-number">1</span>],<span class="hljs-number">0</span>]),np.array([<span class="hljs-number">10</span>,vg.get_top()[<span class="hljs-number">1</span>],<span class="hljs-number">0</span>]))
        line1 = Line(np.array([vg.get_right()[<span class="hljs-number">0</span>],<span class="hljs-number">-10</span>,<span class="hljs-number">0</span>]),np.array([vg.get_right()[<span class="hljs-number">0</span>],<span class="hljs-number">10</span>,<span class="hljs-number">0</span>]))
        text = TextMobject(<span class="hljs-string">"about\_edge1"</span>)
        text.next_to(line,UP,buff=SMALL_BUFF)
        text1 = TextMobject(<span class="hljs-string">"about\_edge2"</span>)
        text1.next_to(line1,RIGHT,buff=SMALL_BUFF)
        self.add(line,line1,vg,text,text1)
        self.play(vg.scale,<span class="hljs-number">2</span>,{<span class="hljs-string">"about_edge"</span>:np.array(UP+RIGHT)})
        self.wait()</code></pre>
<p><img src="UP_RIGHT-1586013786370.gif" srcset="/img/loading.gif" alt="UP_RIGHT"></p>
</li>
<li><p><code>about_point</code>:相对点</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AddUpdater</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        circles = [Circle(arc_center = LEFT*i*<span class="hljs-number">2</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">3</span>)]
        vg = VGroup(*circles)
        dot = Dot(point=circles[<span class="hljs-number">0</span>].get_center())
        text = TextMobject(<span class="hljs-string">"about\_point"</span>)
        text.next_to(dot,DOWN,buff=SMALL_BUFF)
        self.add(dot,vg,text)
        self.play(vg.scale,<span class="hljs-number">2</span>,{<span class="hljs-string">"about_point"</span>:dot.get_center()})
        self.wait()</code></pre>
<p><img src="about_point-1586013786370.gif" srcset="/img/loading.gif" alt="about_point"></p>
</li>
</ul>
</li>
<li><p>执行过程</p>
<p>放大或缩小指定的因子</p>
</li>
</ul>
</li>
<li><p><code>rotate(angle, axis=OUT, **kwargs)</code>:</p>
<p>学过初中物理就应该知道右手定则,在数学,物理中,旋转的方向就是右手定则中的(大拇指)方向</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">myRotateScene</span><span class="hljs-params">(ThreeDScene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
     dot = Dot()
        text = TextMobject(<span class="hljs-string">"about\_point"</span>,color=RED)
        text.next_to(dot,DOWN,buff=SMALL_BUFF)
        axes = ThreeDAxes()
        self.add(dot,text,axes)
        self.set_camera_orientation(theta=-PI/<span class="hljs-number">4</span>,phi=PI/<span class="hljs-number">4</span>)           
        self.play(text.rotate,PI/<span class="hljs-number">2</span>,{<span class="hljs-string">"axis"</span>:OUT})
        self.wait()</code></pre>
<p><img src="Rotate-1586013786370.gif" srcset="/img/loading.gif" alt="Rotate"></p>
<p>上图text的起始平面是X-Y平面,UP为y轴正方向,大家可以自行尝试更改axis方向(注意self.play函数不代表角度从0到PI/2的渐近变化所以只要看起始帧和终止帧)</p>
<p><code>**kwargs</code>还可以接受相对点<code>about_point</code>:</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">myRotateScene</span><span class="hljs-params">(ThreeDScene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        dot = Dot()
        text = TextMobject(<span class="hljs-string">"about\_point"</span>,color=RED)
        text.next_to(dot,DOWN,buff=SMALL_BUFF)
        axes = ThreeDAxes()
        self.add(dot,text,axes)
        self.set_camera_orientation(theta=-PI/<span class="hljs-number">4</span>,phi=PI/<span class="hljs-number">4</span>)           
        self.play(text.rotate,PI,{<span class="hljs-string">"axis"</span>:OUT,<span class="hljs-string">"about_point"</span>:dot.get_center()})
        self.wait()</code></pre>
<p>这个相对点旋转其实是线性代数里面的旋转矩阵造成的结果,如果角度是180度,效果是关于这个点对称</p>
<p><img src="rotateAboutPoint-1586013786370.gif" srcset="/img/loading.gif" alt="rotateAboutPoint"></p>
</li>
<li><p><code>flip(axis=UP, **kwargs)</code>:</p>
<p>翻转,其实就是<code>rotate</code>180度,其他参数同<code>rotate</code></p>
</li>
<li><p><code>stretch(factor, dim, **kwargs)</code>:</p>
<p>在对应的维度伸缩<code>factor</code>倍</p>
<p>这个函数与<code>scale</code>的用法一样,也会有<code>about_point</code>和<code>about_edge</code></p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Stretch</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        text = Text(<span class="hljs-string">"stretch"</span>)
        self.play(text.stretch,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)
        self.wait(<span class="hljs-number">2</span>)</code></pre>
</li>
<li><p><code>apply_function(function, **kwargs)</code>:</p>
<p>对所有family成员的点坐标都进行<code>function</code>处理,所以function必须是一个处理一个点的函数</p>
<p>例如对于二维图形:</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">myScene</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">func</span><span class="hljs-params">(self,point)</span>:</span>
        <span class="hljs-keyword">return</span> point*<span class="hljs-number">2</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        circle = Circle()
        circle2 = Circle()
        self.add(circle,circle2)  
        circle.apply_function(self.func)
        self.play(Write(circle))
        self.wait()</code></pre>
<p>默认的<code>about_point</code>为<code>ORIGIN</code>,可以看出来实现了<code>apply_function</code>的会大一倍</p>
<p><img src="applyFunc-1586013786370.gif" srcset="/img/loading.gif" alt="applyFunc"></p>
</li>
<li><p><code>apply_function_to_position(function)</code>:</p>
<p>移动图像中心到function(self.get_center())</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">myWag</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">x2</span><span class="hljs-params">(self,x)</span>:</span>
        <span class="hljs-keyword">return</span> x*<span class="hljs-number">2</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        circle = Circle()
        circle.move_to(RIGHT)
        self.add(circle)
        self.play(circle.apply_function_to_position,{<span class="hljs-string">"function"</span>:self.x2})
        self.wait()</code></pre>
</li>
<li><p><code>apply_function_to_submobject_positions(function)</code>:</p>
<p>略</p>
</li>
<li><p><code>apply_matrix(matrix, **kwargs)</code>:</p>
<p><code>matrix</code>为变换矩阵,这个就是对Mobject点对应的向量乘以<code>matrix</code>变换矩阵,学过线性代数或者计算机视觉或者看过3b1b的线性代数的人应该不陌生</p>
</li>
<li><p><code>apply_complex_function(function, **kwargs)</code>:</p>
<p>同理于<code>apply_function(function, **kwargs)</code>,只不过这里的<code>function</code>接受一个平面复数,即<code>complex(x, y)</code></p>
</li>
<li><p><code>wag(direction=RIGHT, axis=DOWN, wag_factor=1.0)</code>:</p>
<p>分析源码得到如下处理步骤:</p>
<ol>
<li><p>对所有含有坐标属性家庭成员进行步骤2到5的操作</p>
</li>
<li><p>向axis对应维度投影,如axis=UP/DOWN则向y轴投影,即保留y值不变,得到对应维度的向量列表alphas</p>
</li>
<li><p>将向量列表alphas归一化到[0,1],归一方法如下:</p>
<script type="math/tex; mode=display">
\vec{alphas'}_i = \frac{\vec{alphas}_i-min(\vec{alphas})}{max(\vec{alphas})-min(\vec{alphas})}</script></li>
<li><p>执行幂运算</p>
<script type="math/tex; mode=display">
\vec{alphas}_i^{"}=(\vec{alphas'})^{wag\_factor}</script></li>
<li><p>每个点在direction方向平移$\vec{alphas}_i^{“}$</p>
</li>
</ol>
<p>例子:</p>
<p>factor=1</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">myWag</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        squares = [Square() <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">3</span>)]
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">-1</span>,<span class="hljs-number">2</span>):
            squares[<span class="hljs-number">1</span>+i].move_to(RIGHT*<span class="hljs-number">3</span>*i)
        self.add(*squares) 
        self.play(squares[<span class="hljs-number">0</span>].wag,{<span class="hljs-string">"direction"</span>:UP,<span class="hljs-string">"axis"</span>:RIGHT,<span class="hljs-string">"wag_factor"</span>:<span class="hljs-number">0.1</span>},
                  squares[<span class="hljs-number">1</span>].wag,{<span class="hljs-string">"direction"</span>:UP,<span class="hljs-string">"axis"</span>:RIGHT,<span class="hljs-string">"wag_factor"</span>:<span class="hljs-number">1</span>},
                  squares[<span class="hljs-number">2</span>].wag,{<span class="hljs-string">"direction"</span>:UP,<span class="hljs-string">"axis"</span>:RIGHT,<span class="hljs-string">"wag_factor"</span>:<span class="hljs-number">2</span>})
        self.wait()</code></pre>
<p><img src="myWag1-1585643241928-1586013786370.gif" srcset="/img/loading.gif" alt="myWag1"></p>
<p>从左到右factor依次为0.1,1,2,都是向上wag的,具体怎么理解大家可以自己理解,比较难以表述</p>
</li>
<li><p><code>reverse_points()</code>:</p>
<p>调换点的顺序:</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">myWag</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        circle = Circle().scale(<span class="hljs-number">2</span>)
        texts = [TextMobject(<span class="hljs-string">"p"</span>+str(i)).scale(<span class="hljs-number">0.5</span>) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(circle.points))]
        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_factory</span><span class="hljs-params">(index)</span>:</span>
            <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_func</span><span class="hljs-params">(mob)</span>:</span>
                mob.move_to(circle.points[index])
            <span class="hljs-keyword">return</span> update_func
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(texts)):
            texts[i].add_updater(update_factory(i))

        self.add(circle,*texts)
        self.wait(<span class="hljs-number">1</span>)
        self.play(circle.reverse_points)
        self.wait(<span class="hljs-number">2</span>)</code></pre>
<p><img src="ReversePoint-1586013786371.gif" srcset="/img/loading.gif" alt="ReversePoint"></p>
<p>注意play函数不能很好表现reverse的现象,如果看顺序,上图顺序从逆时针变成了顺时针</p>
</li>
<li><p><code>repeat(count)</code>:</p>
<p>会出现重影的特效</p>
<p><img src="Repeat-1586013786371.gif" srcset="/img/loading.gif" alt="Repeat"></p>
</li>
<li><p><code>apply_points_function_about_point(func, about_point=None, about_edge=None)</code>:</p>
<p>相对点或边对自己的所有点左边应用函数</p>
</li>
</ol>
<h3 id="3-5-位置函数"><a href="#3-5-位置函数" class="headerlink" title="3.5 位置函数"></a>3.5 位置函数</h3><ol>
<li><p><code>center()</code>:</p>
<p>此处center为动词:到中心</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Repeat</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        square = Square()
        dot=Dot()
        self.add(square,dot)
        self.play(square.shift,RIGHT)
        self.play(square.shift,RIGHT)
        self.play(square.shift,UP)
        self.play(square.center)
        self.wait()</code></pre>
<p><img src="Center-1586013786371.gif" srcset="/img/loading.gif" alt="Center"></p>
</li>
<li><p><code>align_on_border(direction, buff=DEFAULT_MOBJECT_TO_EDGE_BUFFER)</code>:</p>
<p>在边界对齐,buff为和边界的距离</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Align</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        square = Square()
        self.play(square.align_on_border,LEFT+UP)
        self.wait(<span class="hljs-number">2</span>)</code></pre>
<p><img src="Align-1586013786371.gif" srcset="/img/loading.gif" alt="Align"></p>
</li>
<li><p><code>to_corner(corner=LEFT + DOWN, buff=DEFAULT_MOBJECT_TO_EDGE_BUFFER)</code>:</p>
<p>到某一个角</p>
<p><img src="to-1586013786371.png" srcset="/img/loading.gif" alt="to_corner author:Elteoremadebeethoven"></p>
</li>
<li><p><code>to_edge(edge=LEFT, buff=DEFAULT_MOBJECT_TO_EDGE_BUFFER)</code>:</p>
<p>到某一边</p>
</li>
<li><p><code>next_to(mobject_or_point,direction=RIGHT, buff=DEFAULT_MOBJECT_TO_MOBJECT_BUFFER,aligned_edge=ORIGIN,submobject_to_align=None,index_of_submobject_to_align=None, coor_mask=np.array([1, 1, 1]),)</code>:</p>
<p>参数分析:</p>
<ul>
<li><code>mobject_or_point</code>:Mobject或者一个点坐标</li>
<li><code>direction</code>:方向</li>
<li><code>buff</code>:相聚的距离</li>
<li><code>aligned_edge</code>:对齐的边</li>
<li><code>submobject_to_align</code>:对齐的子Mobject,此参数要求Mobject是一个列表性质的Mobject</li>
<li><code>index_of_submobject_to_align</code>:如果<code>submobject_to_align</code>不为空,则需要指定对应的是哪一个Mobject</li>
</ul>
</li>
</ol>
<ul>
<li><code>coor_mask</code>:掩膜,术语来自数字信号处理/数字图像处理,不懂可以自行搜索,在这里即为1的地方才进行next_to,如果为0,则对应的坐标不进行next_to变换</li>
</ul>
<p>执行过程:</p>
<p>   如果<code>mobject_or_point</code>是点则next_to的对象就是点,否则为由参数决定的Mobject的中心</p>
<ol>
<li><p><code>shift_onto_screen(**kwargs)</code>:</p>
</li>
<li><p><code>is_off_screen()</code>:</p>
<p>是否超出屏幕范围</p>
</li>
<li><p><code>rescale_to_fit(length, dim, stretch=False, **kwargs)</code>:</p>
<p>将某一个方向的长度拉伸至length,可以按照scale方式拉长或者stretch方式拉长</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RescaleToFit</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        ellipse = Ellipse()
        length = ellipse.length_over_dim(<span class="hljs-number">0</span>)
        self.play(ellipse.rescale_to_fit,length,<span class="hljs-number">1</span>,{<span class="hljs-string">"stretch"</span>:<span class="hljs-literal">True</span>})
        self.wait(<span class="hljs-number">2</span>)</code></pre>
<p><img src="RescaleToFit-1586013786371.gif" srcset="/img/loading.gif" alt="RescaleToFit"></p>
<ul>
<li><code>stretch_to_fit_width(width, **kwargs)</code></li>
<li><code>stretch_to_fit_height(height, **kwargs)</code></li>
<li><code>stretch_to_fit_depth(depth, **kwargs)</code></li>
<li><code>set_width(width, stretch=False, **kwargs)</code></li>
<li><code>set_height(height, stretch=False, **kwargs)</code></li>
<li><code>set_depth(depth, stretch=False, **kwargs)</code></li>
</ul>
</li>
<li><p><code>set_coord(value, dim, direction=ORIGIN)</code>:</p>
<p>将dim对应的坐标设置为value,direction表示设置什么的坐标,如direction为RIGHT则表示设置图像的最右端点的dim维度的坐标为value</p>
<ul>
<li><code>set_x(x, direction=ORIGIN)</code></li>
<li><code>set_y(y, direction=ORIGIN)</code></li>
<li><code>set_z(z, direction=ORIGIN)</code></li>
</ul>
</li>
<li><p><code>space_out_submobjects(factor=1.5, **kwargs)</code>:</p>
<p>自己scale factor倍,子mobject缩小1/factor倍</p>
</li>
<li><p><code>move_to(point_or_mobject, aligned_edge=ORIGIN,coor_mask=np.array([1, 1, 1]))</code>:</p>
<p>与next_to相近,不过区别是:next_to表示的是边界的距离，而不是中心距离</p>
<p><img src="move_next_to-1586013786372.png" srcset="/img/loading.gif" alt="move_next_to author:Elteoremadebeethoven"></p>
</li>
<li><p><code>replace(mobject, dim_to_match=0, stretch=False)</code>:</p>
<p>将位置移动到mobject,并且大小做一些改变,具体看源码</p>
</li>
<li><p><code>surround(mobject,dim_to_match=0,stretch=False,buff=MED_SMALL_BUFF)</code>:</p>
<p>包围(默认情况下,等边长的正多边形规则物体效果很好,对于不等变长的形状最好启用stretch)</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Surround</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        circle = Circle()
        square = Square().shift(UP*<span class="hljs-number">2</span>)
        self.add(circle,square)
        self.play(circle.surround,square)
        self.wait(<span class="hljs-number">2</span>)</code></pre>
<p><img src="Surround-1586013786372.gif" srcset="/img/loading.gif" alt="Surround"></p>
</li>
<li><p><code>put_start_and_end_on(start, end)</code>:</p>
<p>将起点终点重置为start,end</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PutStartAndEndOn</span><span class="hljs-params">(Scene)</span>:</span>
	<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        arc = Arc(PI/<span class="hljs-number">3</span>)
        texts = [TexMobject(i,color=RED) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> [<span class="hljs-string">"startPoint"</span>,<span class="hljs-string">"endPoint"</span>]]
        texts[<span class="hljs-number">0</span>].add_updater(<span class="hljs-keyword">lambda</span> x: x.move_to(arc.get_start()))
        texts[<span class="hljs-number">1</span>].add_updater(<span class="hljs-keyword">lambda</span> x: x.move_to(arc.get_end()))
        self.add(arc, *texts)
        self.play(arc.put_start_and_end_on,ORIGIN,(UP+RIGHT)*<span class="hljs-number">2</span>)
        self.wait()</code></pre>
<p><img src="PutStartAndEndOn-1586013786372.gif" srcset="/img/loading.gif" alt="PutStartAndEndOn"></p>
</li>
<li><p><code>add_background_rectangle(color=BLACK, opacity=0.75, **kwargs)</code>:</p>
<p>增加背景方块,此方块是可以随着Mobject变化而变化的</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BackgroundRectangle</span><span class="hljs-params">(Scene)</span>:</span>
	<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        circle = Circle(color=RED)
        circle.add_background_rectangle(color=BLUE,opacity=<span class="hljs-number">0.4</span>)
        self.add(circle)
        self.play(circle.stretch,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)
        self.wait()</code></pre>
<p><img src="BackgroundRectangle-1586013786372.gif" srcset="/img/loading.gif" alt="BackgroundRectangle"></p>
</li>
<li><p><code>add_background_rectangle_to_submobjects(**kwargs)</code>:</p>
<p>略</p>
</li>
<li><p><code>add_background_rectangle_to_family_members_with_points(**kwargs)</code>:</p>
<p>略</p>
</li>
</ol>
<h3 id="3-6-颜色函数"><a href="#3-6-颜色函数" class="headerlink" title="3.6 颜色函数"></a>3.6 颜色函数</h3><ol>
<li><p><code>set_color(color=YELLOW_C, family=True)</code>:</p>
<p>设置颜色,family指家庭成员是否也跟着变色</p>
</li>
<li><p><code>set_color_by_gradient(*colors)</code>:</p>
<p>渐变色,可以是两个或多个颜色的列表</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">main</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        qed = TexMobject(<span class="hljs-string">'This is a Text'</span>).scale(<span class="hljs-number">1.25</span>)
        qed.set_color_by_gradient(RED,YELLOW,GREEN,BLUE)
        self.play(Write(qed))
        self.wait(<span class="hljs-number">3</span>)</code></pre>
<p><img src="image-20200403201147347-1586013786372.png" srcset="/img/loading.gif" alt="gradientColor"></p>
</li>
<li><p><code>set_colors_by_radial_gradient(center=None, radius=1, inner_color=WHITE, outer_color=BLACK)</code>:</p>
<p>辐射状渐变颜色,半径为radius</p>
</li>
<li><p><code>set_submobject_colors_by_gradient(*colors)</code>:</p>
<p>给子Mobject设置渐变颜色</p>
</li>
<li><p><code>set_submobject_colors_by_radial_gradient(center=None, radius=1, inner_color=WHITE, outer_color=BLACK)</code>:</p>
<p>同理,略</p>
</li>
<li><p><code>fade_to(color, alpha, family=True)</code>:</p>
<p>褪色为某一个颜色,alpha为插值系数,alpha在[0,1]之间,越接近1,褪色越厉害</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FadeTo</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        text = TexMobject(<span class="hljs-string">"This is a Text"</span>)
        self.add(text)
        self.play(text.set_colors_by_radial_gradient,{<span class="hljs-string">"inner_color"</span>:WHITE,<span class="hljs-string">"outer_color"</span>:RED})
        self.play(text.fade_to,BLUE,<span class="hljs-number">1</span>)
        self.wait()</code></pre>
<p><img src="FadeTo-1586013786373.gif" srcset="/img/loading.gif" alt="FadeTo"></p>
</li>
<li><p><code>get_color()</code>:</p>
<p>返回颜色</p>
</li>
<li><p><code>fade(darkness=0.5, family=True)</code>:</p>
<p>褪色为黑色,darkness为灰度</p>
</li>
</ol>
<h3 id="3-7-恢复函数"><a href="#3-7-恢复函数" class="headerlink" title="3.7 恢复函数"></a>3.7 恢复函数</h3><ol>
<li><p><code>save_state(use_deepcopy=False)</code>:</p>
<p>保存状态,并确定是否使用深拷贝</p>
</li>
<li><p><code>restore()</code>:</p>
<p>恢复之前状态</p>
</li>
</ol>
<h3 id="3-8-其他的getter方法"><a href="#3-8-其他的getter方法" class="headerlink" title="3.8 其他的getter方法"></a>3.8 其他的getter方法</h3><ol>
<li><p><code>reduce_across_dimension(points_func, reduce_func, dim)</code>:</p>
</li>
<li><p><code>nonempty_submobjects()</code>:</p>
<p>返回Submobject的subSubMobject不为空的Submobject</p>
</li>
<li><p><code>get_merged_array(array_attr)</code>:</p>
<p>得到Mobject以及其子Mobject的array_attr属性的列表</p>
</li>
<li><p><code>get_all_points()</code>:</p>
<p>得到Mobject与其子Mobject属性所有的点</p>
</li>
<li><p><code>get_num_points()</code>:</p>
<p>得到自己的点的数量(不包含子Mobject)</p>
</li>
<li><p><code>get_extremum_along_dim(points=None, dim=0, key=0)</code>:</p>
<p>沿着dim方向(dim为0表示x方向,1表示y方向….),给出坐标的极值,key&lt;0表示得到最小值,key&gt;0表示得到最大值,key=0表示得到中值</p>
</li>
<li><p><code>get_critical_point(direction)</code>:</p>
<p>画一个框，框住mobject。 这样的盒子有9个“关键点”：4个角，4个边缘中心，中心。 这将返回其中之一。</p>
<p>direction什么方向就返回什么</p>
<p>对其进行封装有如下的函数:</p>
<ul>
<li><code>get_edge_center</code><ul>
<li><code>get_top</code></li>
<li><code>get_bottom</code></li>
<li><code>get_right</code></li>
<li><code>get_left</code></li>
<li><code>get_zenith</code></li>
<li><code>get_nadir</code></li>
</ul>
</li>
<li><code>get_corner</code></li>
<li><code>get_center</code></li>
</ul>
</li>
<li><p><code>get_boundary_point(direction)</code>:</p>
<p>得到某个方向的最远的点</p>
 <pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FadeTo</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        square = Square()
        circle = Circle().shift(<span class="hljs-number">2</span> * RIGHT + <span class="hljs-number">1</span> * DOWN)
        shapeGroup = VGroup(square,circle)
        points = []
        nums = <span class="hljs-number">10</span>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(nums):
            points.append(shapeGroup.get_boundary_point(np.array((np.cos(<span class="hljs-number">2</span>*PI*i/nums),np.sin(<span class="hljs-number">2</span>*PI*i/nums),<span class="hljs-number">0</span>))))
        polygon = Polygon(*points,color=BLUE)
        dots = [Dot(point=i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> points]
        self.add(shapeGroup,*dots)
        self.play(Write(polygon))
        self.wait(<span class="hljs-number">2</span>)</code></pre>
<p><img src="image-20200404172800256-1586013786373.png" srcset="/img/loading.gif" alt="boundary_points"></p>
</li>
<li><p><code>length_over_dim(dim)</code>:</p>
<p>dim方向的长度</p>
<p>此方法封装的方法:</p>
<ul>
<li><code>get_width</code></li>
<li><code>get_height</code></li>
<li><code>get_depth</code></li>
</ul>
</li>
<li><p><code>get_coord(dim, direction=ORIGIN)</code>:</p>
<p>在dim方向得到direction对应的极值,直接使用意义不大</p>
<ul>
<li><code>get_x(direction=ORIGIN)</code></li>
<li><code>get_y(direction=ORIGIN)</code></li>
<li><code>get_z(direction=ORIGIN)</code></li>
</ul>
</li>
<li><p><code>get_start</code>,<code>get_end</code>,<code>get_start_and_end</code>:</p>
<p>得到点的起点终点,起点和终点</p>
</li>
<li><p><code>has_points</code>,<code>has_no_points</code>:</p>
<p>是否有点这属性</p>
</li>
</ol>
<h3 id="3-9-匹配函数"><a href="#3-9-匹配函数" class="headerlink" title="3.9 匹配函数"></a>3.9 匹配函数</h3><ol>
<li><p><code>match_color(mobject)</code>:</p>
<p>匹配mobject的颜色</p>
</li>
<li><p><code>match_dim_size(mobject, dim, **kwargs)</code>:</p>
<p>匹配dim方向的长度,<code>**kwargs</code>和<code>rescale_to_fit()</code>使用方法相同</p>
<ul>
<li><code>match_width</code></li>
<li><code>match_height</code></li>
<li><code>match_depth</code></li>
</ul>
</li>
<li><p><code>match_coord(mobject, dim, direction=ORIGIN)</code>:</p>
<p>按照get_coord()得到对应的Mobject坐标,然后设置</p>
<ul>
<li><code>match_x</code></li>
<li><code>match_y</code></li>
<li><code>match_z</code></li>
</ul>
</li>
</ol>
<h3 id="3-10-排列函数"><a href="#3-10-排列函数" class="headerlink" title="3.10 排列函数"></a>3.10 排列函数</h3><ol>
<li><p><code>arrange(direction=RIGHT, center=True, **kwargs)</code>:</p>
<p>submobject列表的全部变量进行排队,按照direction的方式排队,center决定了是否排完队跑到中心</p>
<p><code>**kwargs</code>参考next_to</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Arrange</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        square = Square()
        square.add(Dot(point=np.array([<span class="hljs-number">-1</span>,<span class="hljs-number">-2</span>,<span class="hljs-number">0</span>])))
        square.add(Square().move_to(np.array([<span class="hljs-number">3</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>])))
        square.add(Circle().move_to(np.array([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>])))
        self.add(square)
        self.play(square.arrange,{<span class="hljs-string">"center"</span>:<span class="hljs-literal">False</span>})
        self.wait(<span class="hljs-number">2</span>)
        self.play(square.arrange,{<span class="hljs-string">"direction"</span>:UP,<span class="hljs-string">"center"</span>:<span class="hljs-literal">False</span>})
        self.wait(<span class="hljs-number">2</span>)</code></pre>
<p><img src="Arrange-1586013786373.gif" srcset="/img/loading.gif" alt="Arrange"></p>
</li>
<li><p><code>arrange_in_grid(n_rows=None, n_cols=None, **kwargs)</code>:</p>
<p>对submobject列表重拍列</p>
<p>如果默认无参数,重拍列至方阵,否则n_rows和n_cols最多选一个,排列为对应的行或列,如果都填,则排列为n_rows行</p>
<p><code>**kwargs</code>参考next_to函数</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ArrangeInGrid</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        square = Square()
        square.add(Circle().move_to(np.array([<span class="hljs-number">-1</span>,<span class="hljs-number">-2</span>,<span class="hljs-number">0</span>])))
        square.add(Circle().move_to(np.array([<span class="hljs-number">3</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>])))
        square.add(Circle().move_to(np.array([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>])))
        square.add(Circle().move_to(np.array([<span class="hljs-number">5</span>, <span class="hljs-number">-3</span>, <span class="hljs-number">0</span>])))
        self.add(square)
        self.play(square.arrange_in_grid)
        self.wait(<span class="hljs-number">2</span>)</code></pre>
<p><img src="ArrangeInGrid-1586013786373.gif" srcset="/img/loading.gif" alt="ArrangeInGrid"></p>
</li>
<li><p><code>sort(point_to_num_func=lambda p: p[0], submob_func=None)</code>:</p>
<p>对点进行排序,这个一般意义不大,可以自己编写排序方法</p>
</li>
<li><p><code>shuffle(recursive=False)</code>:</p>
<p>打乱submobject的列表排序,以及是否递归进行</p>
</li>
</ol>
<h3 id="3-11-对齐函数"><a href="#3-11-对齐函数" class="headerlink" title="3.11 对齐函数"></a>3.11 对齐函数</h3><ol>
<li><p><code>align_to(mobject_or_point, direction=ORIGIN, alignment_vect=UP)</code>:</p>
<p>对齐,direction表示对齐的边是哪边</p>
<p>mob1.align_to（mob2，UP）垂直移动mob1，以便其顶部边缘与mob2的顶部边缘对齐。 mob1.align_to（mob2，alignment_vect = RIGHT）水平移动mob1，使其中心位于mob2中心的正上方/正下方</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AlighTo</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        square = Square()
        circle = Circle().shift(<span class="hljs-number">2</span> * RIGHT + <span class="hljs-number">1</span> * DOWN).scale(<span class="hljs-number">2</span>)
        self.add(square,circle)
        self.play(circle.align_to,square,RIGHT)
        self.wait(<span class="hljs-number">2</span>)</code></pre>
<p><img src="AlighTo-1586013786373.gif" srcset="/img/loading.gif" alt="AlighTo"></p>
</li>
<li><p><code>add_n_more_submobjects(n)</code>:</p>
<p>加入n个submoject</p>
</li>
</ol>
<h3 id="3-12-抽象方法"><a href="#3-12-抽象方法" class="headerlink" title="3.12 抽象方法"></a>3.12 抽象方法</h3><ol>
<li><p><code>align_data(mobject)</code>:</p>
</li>
<li><p><code>align_points(mobject)</code>:</p>
</li>
<li><p><code>align_submobjects(mobject)</code>:</p>
<p>对齐submobjects</p>
</li>
<li><p><code>null_point_align(mobject)</code>:</p>
</li>
<li><p><code>get_point_mobject(center=None)</code></p>
</li>
<li><p><code>align_points_with_larger(larger_mobject)</code></p>
</li>
<li><p><code>interpolate_color(mobject1, mobject2, alpha)</code>:</p>
<p>颜色插值</p>
</li>
<li><p><code>interpolate(mobject1,mobject2,alpha, path_func=straight_path)</code>:</p>
<p>Mobject插值</p>
</li>
<li><p><code>become_partial(mobject, a, b)</code>:</p>
<p>以仅成为mobject一部分的方式设置点。 输入0 &lt;= a &lt;b &lt;= 1确定要成为mobject的哪一部分。</p>
</li>
<li><p><code>become(mobject, copy_submobjects=True)</code>:</p>
<p>变成另一个的样式</p>
<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Become</span><span class="hljs-params">(Scene)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">construct</span><span class="hljs-params">(self)</span>:</span>
        square = Square()
        square.submobjects.append(Circle().move_to(np.array([<span class="hljs-number">-1</span>,<span class="hljs-number">-2</span>,<span class="hljs-number">0</span>])))
        square.submobjects.append(Circle().move_to(np.array([<span class="hljs-number">3</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>])))
        square.submobjects.append(Circle().move_to(np.array([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>])))
        square.submobjects.append(Circle().move_to(np.array([<span class="hljs-number">5</span>, <span class="hljs-number">-3</span>, <span class="hljs-number">0</span>])))
        text = Text(<span class="hljs-string">"text"</span>)
        self.add(square)
        self.play(square.become,text)
        self.play(text.shift,UP)
        self.wait(<span class="hljs-number">2</span>)</code></pre>
<p><img src="Become-1586013786373.gif" srcset="/img/loading.gif" alt="Become"></p>
</li>
</ol>
<h2 id="4-小结"><a href="#4-小结" class="headerlink" title="4. 小结"></a>4. 小结</h2><p>Mobject的用法还是很多的,空闲时间写了很多天才写完,希望自己能用熟练</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/manim/">manim</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E6%95%99%E7%A8%8B/">教程</a>
                    
                      <a class="hover-with-bg" href="/tags/manim/">manim</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                      <a href="/2020/04/25/ji-suan-ji-wang-luo-di-yi-zhang/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">计算机网络第一章</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/2020/03/30/manim-xue-xi-container-lei/">
                        <span class="hidden-mobile">manim学习--Container类</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
              <!-- Comments -->
              <div class="comments" id="comments">
                
                
  <div id="gitalk-container"></div>
  <script type="text/javascript">
    function loadGitalk(){
      addScript('https://cdn.staticfile.org/gitalk/1.6.2/gitalk.min.js', function () {
        var gitalk = new Gitalk({
          clientID: '567ab5f0da87cd87c36c',
          clientSecret: '6c660baacd461151d3b40ea2aa7c24e6b7dd8b3a',
          repo: 'cai-hust.github.io',
          owner: 'cai-hust',
          admin: 'cai-hust',
          id: 'abe2f11339bee105f3f102052ebaa0c7',
          language: 'zh-CN',
          perPage: 15,
          pagerDirection: 'last',
          createIssueManually: 'true',
          distractionFreeMode: 'true'
        });
        gitalk.render('gitalk-container');
      });
    }
    createObserver(loadGitalk, 'gitalk-container');
  </script>


              </div>
            
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: 'article.markdown-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "manim学习--Mobject类(一)&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>





  

  
    <!-- MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        options: {
          renderActions: {
            findScript: [10, doc => {
              document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = { node: text, delim: '', n: 0 };
                math.end = { node: text, delim: '', n: 0 };
                doc.math.push(math);
              });
            }, '', false],
            insertedScript: [200, () => {
              document.querySelectorAll('mjx-container').forEach(node => {
                let target = node.parentNode;
                if (target.nodeName.toLowerCase() === 'li') {
                  target.parentNode.classList.add('has-jax');
                }
              });
            }, '', false]
          }
        }
      };
    </script>

    <script async src="https://cdn.staticfile.org/mathjax/3.0.5/es5/tex-svg.js" ></script>

  





  <script>(function (i, s, o, g, r, a, m) {
      i['DaoVoiceObject'] = r;
      i[r] = i[r] ||
        function () {
          (i[r].q = i[r].q || []).push(arguments);
        };
      i[r].l = 1 * new Date();
      a = s.createElement(o);
      m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      a.charset = 'utf-8';
      m.parentNode.insertBefore(a, m);
    })(window, document, 'script', ('https:' === document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/e1b1f384.js", 'daovoice');
    daovoice('init', {
      app_id: "e1b1f384",
    });
    daovoice('update');
  </script>












</body>
</html>
